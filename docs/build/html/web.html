

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>tornado.web — RequestHandler and Application classes &mdash; Tornado 6.1.dev1 documentation</title>
  

  
  
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="tornado.template — Flexible output generation" href="template.html" />
    <link rel="prev" title="Web framework" href="webframework.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Tornado
          

          
          </a>

          
            
            
              <div class="version">
                6.1.dev1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="guide.html">User’s guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="webframework.html">Web framework</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#"><code class="docutils literal notranslate"><span class="pre">tornado.web</span></code> — <code class="docutils literal notranslate"><span class="pre">RequestHandler</span></code> and <code class="docutils literal notranslate"><span class="pre">Application</span></code> classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="template.html"><code class="docutils literal notranslate"><span class="pre">tornado.template</span></code> — Flexible output generation</a></li>
<li class="toctree-l2"><a class="reference internal" href="routing.html"><code class="docutils literal notranslate"><span class="pre">tornado.routing</span></code> — Basic routing implementation</a></li>
<li class="toctree-l2"><a class="reference internal" href="escape.html"><code class="docutils literal notranslate"><span class="pre">tornado.escape</span></code> — Escaping and string manipulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="locale.html"><code class="docutils literal notranslate"><span class="pre">tornado.locale</span></code> — Internationalization support</a></li>
<li class="toctree-l2"><a class="reference internal" href="websocket.html"><code class="docutils literal notranslate"><span class="pre">tornado.websocket</span></code> — Bidirectional communication to the browser</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="http.html">HTTP servers and clients</a></li>
<li class="toctree-l1"><a class="reference internal" href="networking.html">Asynchronous networking</a></li>
<li class="toctree-l1"><a class="reference internal" href="coroutine.html">Coroutines and concurrency</a></li>
<li class="toctree-l1"><a class="reference internal" href="integration.html">Integration with other services</a></li>
<li class="toctree-l1"><a class="reference internal" href="utilities.html">Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="releases.html">Release notes</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Tornado</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
          <li><a href="webframework.html">Web framework</a> &raquo;</li>
        
      <li><code class="docutils literal notranslate"><span class="pre">tornado.web</span></code> — <code class="docutils literal notranslate"><span class="pre">RequestHandler</span></code> and <code class="docutils literal notranslate"><span class="pre">Application</span></code> classes</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/web.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="tornado-web-requesthandler-and-application-classes">
<h1><code class="docutils literal notranslate"><span class="pre">tornado.web</span></code> — <code class="docutils literal notranslate"><span class="pre">RequestHandler</span></code> and <code class="docutils literal notranslate"><span class="pre">Application</span></code> classes<a class="headerlink" href="#tornado-web-requesthandler-and-application-classes" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-tornado.web"></span><p><code class="docutils literal notranslate"><span class="pre">tornado.web</span></code> provides a simple web framework with asynchronous
features that allow it to scale to large numbers of open connections,
making it ideal for <a class="reference external" href="http://en.wikipedia.org/wiki/Push_technology#Long_polling">long polling</a>.</p>
<p>Here is a simple “Hello, world” example app:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">tornado.ioloop</span>
<span class="kn">import</span> <span class="nn">tornado.web</span>

<span class="k">class</span> <span class="nc">MainHandler</span><span class="p">(</span><span class="n">tornado</span><span class="o">.</span><span class="n">web</span><span class="o">.</span><span class="n">RequestHandler</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;Hello, world&quot;</span><span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">application</span> <span class="o">=</span> <span class="n">tornado</span><span class="o">.</span><span class="n">web</span><span class="o">.</span><span class="n">Application</span><span class="p">([</span>
        <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;/&quot;</span><span class="p">,</span> <span class="n">MainHandler</span><span class="p">),</span>
    <span class="p">])</span>
    <span class="n">application</span><span class="o">.</span><span class="n">listen</span><span class="p">(</span><span class="mi">8888</span><span class="p">)</span>
    <span class="n">tornado</span><span class="o">.</span><span class="n">ioloop</span><span class="o">.</span><span class="n">IOLoop</span><span class="o">.</span><span class="n">current</span><span class="p">()</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
</pre></div>
</div>
<p>See the <a class="reference internal" href="guide.html"><span class="doc">User’s guide</span></a> for additional information.</p>
<div class="section" id="thread-safety-notes">
<h2>Thread-safety notes<a class="headerlink" href="#thread-safety-notes" title="Permalink to this headline">¶</a></h2>
<p>In general, methods on <a class="reference internal" href="#tornado.web.RequestHandler" title="tornado.web.RequestHandler"><code class="xref py py-obj docutils literal notranslate"><span class="pre">RequestHandler</span></code></a> and elsewhere in Tornado are
not thread-safe. In particular, methods such as
<a class="reference internal" href="#tornado.web.RequestHandler.write" title="tornado.web.RequestHandler.write"><code class="xref py py-obj docutils literal notranslate"><span class="pre">write()</span></code></a>, <a class="reference internal" href="#tornado.web.RequestHandler.finish" title="tornado.web.RequestHandler.finish"><code class="xref py py-obj docutils literal notranslate"><span class="pre">finish()</span></code></a>, and
<a class="reference internal" href="#tornado.web.RequestHandler.flush" title="tornado.web.RequestHandler.flush"><code class="xref py py-obj docutils literal notranslate"><span class="pre">flush()</span></code></a> must only be called from the main thread. If
you use multiple threads it is important to use <a class="reference internal" href="ioloop.html#tornado.ioloop.IOLoop.add_callback" title="tornado.ioloop.IOLoop.add_callback"><code class="xref py py-obj docutils literal notranslate"><span class="pre">IOLoop.add_callback</span></code></a>
to transfer control back to the main thread before finishing the
request, or to limit your use of other threads to
<a class="reference internal" href="ioloop.html#tornado.ioloop.IOLoop.run_in_executor" title="tornado.ioloop.IOLoop.run_in_executor"><code class="xref py py-obj docutils literal notranslate"><span class="pre">IOLoop.run_in_executor</span></code></a> and ensure that your callbacks running in
the executor do not refer to Tornado objects.</p>
</div>
<div class="section" id="request-handlers">
<h2>Request handlers<a class="headerlink" href="#request-handlers" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="tornado.web.RequestHandler">
<em class="property">class </em><code class="descclassname">tornado.web.</code><code class="descname">RequestHandler</code><span class="sig-paren">(</span><em>...</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tornado/web.html#RequestHandler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for HTTP request handlers.</p>
<p>Subclasses must define at least one of the methods defined in the
“Entry points” section below.</p>
<p>Applications should not construct <a class="reference internal" href="#tornado.web.RequestHandler" title="tornado.web.RequestHandler"><code class="xref py py-obj docutils literal notranslate"><span class="pre">RequestHandler</span></code></a> objects
directly and subclasses should not override <code class="docutils literal notranslate"><span class="pre">__init__</span></code> (override
<a class="reference internal" href="#tornado.web.RequestHandler.initialize" title="tornado.web.RequestHandler.initialize"><code class="xref py py-obj docutils literal notranslate"><span class="pre">initialize</span></code></a> instead).</p>
</dd></dl>

<div class="section" id="entry-points">
<h3>Entry points<a class="headerlink" href="#entry-points" title="Permalink to this headline">¶</a></h3>
<dl class="method">
<dt id="tornado.web.RequestHandler.initialize">
<code class="descclassname">RequestHandler.</code><code class="descname">initialize</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#tornado.web.RequestHandler.initialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Hook for subclass initialization. Called for each request.</p>
<p>A dictionary passed as the third argument of a <code class="docutils literal notranslate"><span class="pre">URLSpec</span></code> will be
supplied as keyword arguments to <code class="docutils literal notranslate"><span class="pre">initialize()</span></code>.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">ProfileHandler</span><span class="p">(</span><span class="n">RequestHandler</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">database</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">database</span> <span class="o">=</span> <span class="n">database</span>

    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">username</span><span class="p">):</span>
        <span class="o">...</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">Application</span><span class="p">([</span>
    <span class="p">(</span><span class="sa">r</span><span class="s1">&#39;/user/(.*)&#39;</span><span class="p">,</span> <span class="n">ProfileHandler</span><span class="p">,</span> <span class="nb">dict</span><span class="p">(</span><span class="n">database</span><span class="o">=</span><span class="n">database</span><span class="p">)),</span>
    <span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.prepare">
<code class="descclassname">RequestHandler.</code><code class="descname">prepare</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; Optional[Awaitable[None]]<a class="reference internal" href="_modules/tornado/web.html#RequestHandler.prepare"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.prepare" title="Permalink to this definition">¶</a></dt>
<dd><p>Called at the beginning of a request before  <a class="reference internal" href="#tornado.web.RequestHandler.get" title="tornado.web.RequestHandler.get"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get</span></code></a>/<a class="reference internal" href="#tornado.web.RequestHandler.post" title="tornado.web.RequestHandler.post"><code class="xref py py-obj docutils literal notranslate"><span class="pre">post</span></code></a>/etc.</p>
<p>Override this method to perform common initialization regardless
of the request method.</p>
<p>Asynchronous support: Use <code class="docutils literal notranslate"><span class="pre">async</span> <span class="pre">def</span></code> or decorate this method with
<a class="reference internal" href="gen.html#tornado.gen.coroutine" title="tornado.gen.coroutine"><code class="xref py py-obj docutils literal notranslate"><span class="pre">gen.coroutine</span></code></a> to make it asynchronous.
If this method returns an  <code class="docutils literal notranslate"><span class="pre">Awaitable</span></code> execution will not proceed
until the <code class="docutils literal notranslate"><span class="pre">Awaitable</span></code> is done.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 3.1: </span>Asynchronous support.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.on_finish">
<code class="descclassname">RequestHandler.</code><code class="descname">on_finish</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; None<a class="reference internal" href="_modules/tornado/web.html#RequestHandler.on_finish"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.on_finish" title="Permalink to this definition">¶</a></dt>
<dd><p>Called after the end of a request.</p>
<p>Override this method to perform cleanup, logging, etc.
This method is a counterpart to <a class="reference internal" href="#tornado.web.RequestHandler.prepare" title="tornado.web.RequestHandler.prepare"><code class="xref py py-obj docutils literal notranslate"><span class="pre">prepare</span></code></a>.  <code class="docutils literal notranslate"><span class="pre">on_finish</span></code> may
not produce any output, as it is called after the response
has been sent to the client.</p>
</dd></dl>

<p id="verbs">Implement any of the following methods (collectively known as the
HTTP verb methods) to handle the corresponding HTTP method. These
methods can be made asynchronous with the <code class="docutils literal notranslate"><span class="pre">async</span> <span class="pre">def</span></code> keyword or
<a class="reference internal" href="gen.html#tornado.gen.coroutine" title="tornado.gen.coroutine"><code class="xref py py-obj docutils literal notranslate"><span class="pre">gen.coroutine</span></code></a> decorator.</p>
<p>The arguments to these methods come from the <a class="reference internal" href="#tornado.web.URLSpec" title="tornado.web.URLSpec"><code class="xref py py-obj docutils literal notranslate"><span class="pre">URLSpec</span></code></a>: Any
capturing groups in the regular expression become arguments to the
HTTP verb methods (keyword arguments if the group is named,
positional arguments if it’s unnamed).</p>
<p>To support a method not on this list, override the class variable
<code class="docutils literal notranslate"><span class="pre">SUPPORTED_METHODS</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">WebDAVHandler</span><span class="p">(</span><span class="n">RequestHandler</span><span class="p">):</span>
    <span class="n">SUPPORTED_METHODS</span> <span class="o">=</span> <span class="n">RequestHandler</span><span class="o">.</span><span class="n">SUPPORTED_METHODS</span> <span class="o">+</span> <span class="p">(</span><span class="s1">&#39;PROPFIND&#39;</span><span class="p">,)</span>

    <span class="k">def</span> <span class="nf">propfind</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">pass</span>
</pre></div>
</div>
<dl class="method">
<dt id="tornado.web.RequestHandler.get">
<code class="descclassname">RequestHandler.</code><code class="descname">get</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#tornado.web.RequestHandler.get" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.head">
<code class="descclassname">RequestHandler.</code><code class="descname">head</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#tornado.web.RequestHandler.head" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.post">
<code class="descclassname">RequestHandler.</code><code class="descname">post</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#tornado.web.RequestHandler.post" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.delete">
<code class="descclassname">RequestHandler.</code><code class="descname">delete</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#tornado.web.RequestHandler.delete" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.patch">
<code class="descclassname">RequestHandler.</code><code class="descname">patch</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#tornado.web.RequestHandler.patch" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.put">
<code class="descclassname">RequestHandler.</code><code class="descname">put</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#tornado.web.RequestHandler.put" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.options">
<code class="descclassname">RequestHandler.</code><code class="descname">options</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#tornado.web.RequestHandler.options" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="input">
<h3>Input<a class="headerlink" href="#input" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">argument</span></code> methods provide support for HTML form-style
arguments. These methods are available in both singular and plural
forms because HTML forms are ambiguous and do not distinguish
between a singular argument and a list containing one entry. If you
wish to use other formats for arguments (for example, JSON), parse
<code class="docutils literal notranslate"><span class="pre">self.request.body</span></code> yourself:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">prepare</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">headers</span><span class="p">[</span><span class="s1">&#39;Content-Type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;application/x-json&#39;</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">args</span> <span class="o">=</span> <span class="n">json_decode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">body</span><span class="p">)</span>
    <span class="c1"># Access self.args directly instead of using self.get_argument.</span>
</pre></div>
</div>
<dl class="method">
<dt id="tornado.web.RequestHandler.get_argument">
<code class="descclassname">RequestHandler.</code><code class="descname">get_argument</code><span class="sig-paren">(</span><em>name: str</em>, <em>default: Union[None</em>, <em>str</em>, <em>RAISE] = RAISE</em>, <em>strip: bool = True</em><span class="sig-paren">)</span> &#x2192; Optional[str]<a class="reference internal" href="_modules/tornado/web.html#RequestHandler.get_argument"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.get_argument" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the value of the argument with the given name.</p>
<p>If default is not provided, the argument is considered to be
required, and we raise a <a class="reference internal" href="#tornado.web.MissingArgumentError" title="tornado.web.MissingArgumentError"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MissingArgumentError</span></code></a> if it is missing.</p>
<p>If the argument appears in the request more than once, we return the
last value.</p>
<p>This method searches both the query and body arguments.</p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.get_arguments">
<code class="descclassname">RequestHandler.</code><code class="descname">get_arguments</code><span class="sig-paren">(</span><em>name: str</em>, <em>strip: bool = True</em><span class="sig-paren">)</span> &#x2192; List[str]<a class="reference internal" href="_modules/tornado/web.html#RequestHandler.get_arguments"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.get_arguments" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of the arguments with the given name.</p>
<p>If the argument is not present, returns an empty list.</p>
<p>This method searches both the query and body arguments.</p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.get_query_argument">
<code class="descclassname">RequestHandler.</code><code class="descname">get_query_argument</code><span class="sig-paren">(</span><em>name: str</em>, <em>default: Union[None</em>, <em>str</em>, <em>RAISE] = RAISE</em>, <em>strip: bool = True</em><span class="sig-paren">)</span> &#x2192; Optional[str]<a class="reference internal" href="_modules/tornado/web.html#RequestHandler.get_query_argument"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.get_query_argument" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the value of the argument with the given name
from the request query string.</p>
<p>If default is not provided, the argument is considered to be
required, and we raise a <a class="reference internal" href="#tornado.web.MissingArgumentError" title="tornado.web.MissingArgumentError"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MissingArgumentError</span></code></a> if it is missing.</p>
<p>If the argument appears in the url more than once, we return the
last value.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 3.2.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.get_query_arguments">
<code class="descclassname">RequestHandler.</code><code class="descname">get_query_arguments</code><span class="sig-paren">(</span><em>name: str</em>, <em>strip: bool = True</em><span class="sig-paren">)</span> &#x2192; List[str]<a class="reference internal" href="_modules/tornado/web.html#RequestHandler.get_query_arguments"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.get_query_arguments" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of the query arguments with the given name.</p>
<p>If the argument is not present, returns an empty list.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 3.2.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.get_body_argument">
<code class="descclassname">RequestHandler.</code><code class="descname">get_body_argument</code><span class="sig-paren">(</span><em>name: str</em>, <em>default: Union[None</em>, <em>str</em>, <em>RAISE] = RAISE</em>, <em>strip: bool = True</em><span class="sig-paren">)</span> &#x2192; Optional[str]<a class="reference internal" href="_modules/tornado/web.html#RequestHandler.get_body_argument"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.get_body_argument" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the value of the argument with the given name
from the request body.</p>
<p>If default is not provided, the argument is considered to be
required, and we raise a <a class="reference internal" href="#tornado.web.MissingArgumentError" title="tornado.web.MissingArgumentError"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MissingArgumentError</span></code></a> if it is missing.</p>
<p>If the argument appears in the url more than once, we return the
last value.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 3.2.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.get_body_arguments">
<code class="descclassname">RequestHandler.</code><code class="descname">get_body_arguments</code><span class="sig-paren">(</span><em>name: str</em>, <em>strip: bool = True</em><span class="sig-paren">)</span> &#x2192; List[str]<a class="reference internal" href="_modules/tornado/web.html#RequestHandler.get_body_arguments"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.get_body_arguments" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of the body arguments with the given name.</p>
<p>If the argument is not present, returns an empty list.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 3.2.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.decode_argument">
<code class="descclassname">RequestHandler.</code><code class="descname">decode_argument</code><span class="sig-paren">(</span><em>value: bytes</em>, <em>name: str = None</em><span class="sig-paren">)</span> &#x2192; str<a class="reference internal" href="_modules/tornado/web.html#RequestHandler.decode_argument"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.decode_argument" title="Permalink to this definition">¶</a></dt>
<dd><p>Decodes an argument from the request.</p>
<p>The argument has been percent-decoded and is now a byte string.
By default, this method decodes the argument as utf-8 and returns
a unicode string, but this may be overridden in subclasses.</p>
<p>This method is used as a filter for both <a class="reference internal" href="#tornado.web.RequestHandler.get_argument" title="tornado.web.RequestHandler.get_argument"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_argument()</span></code></a> and for
values extracted from the url and passed to <a class="reference internal" href="#tornado.web.RequestHandler.get" title="tornado.web.RequestHandler.get"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get()</span></code></a>/<a class="reference internal" href="#tornado.web.RequestHandler.post" title="tornado.web.RequestHandler.post"><code class="xref py py-obj docutils literal notranslate"><span class="pre">post()</span></code></a>/etc.</p>
<p>The name of the argument is provided if known, but may be None
(e.g. for unnamed groups in the url regex).</p>
</dd></dl>

<dl class="attribute">
<dt id="tornado.web.RequestHandler.request">
<code class="descclassname">RequestHandler.</code><code class="descname">request</code><a class="headerlink" href="#tornado.web.RequestHandler.request" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="httputil.html#tornado.httputil.HTTPServerRequest" title="tornado.httputil.HTTPServerRequest"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tornado.httputil.HTTPServerRequest</span></code></a> object containing additional
request parameters including e.g. headers and body data.</p>
</dd></dl>

<dl class="attribute">
<dt id="tornado.web.RequestHandler.path_args">
<code class="descclassname">RequestHandler.</code><code class="descname">path_args</code><a class="headerlink" href="#tornado.web.RequestHandler.path_args" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="tornado.web.RequestHandler.path_kwargs">
<code class="descclassname">RequestHandler.</code><code class="descname">path_kwargs</code><a class="headerlink" href="#tornado.web.RequestHandler.path_kwargs" title="Permalink to this definition">¶</a></dt>
<dd><p>The <code class="docutils literal notranslate"><span class="pre">path_args</span></code> and <code class="docutils literal notranslate"><span class="pre">path_kwargs</span></code> attributes contain the
positional and keyword arguments that are passed to the
<a class="reference internal" href="#verbs"><span class="std std-ref">HTTP verb methods</span></a>.  These attributes are set
before those methods are called, so the values are available
during <a class="reference internal" href="#tornado.web.RequestHandler.prepare" title="tornado.web.RequestHandler.prepare"><code class="xref py py-obj docutils literal notranslate"><span class="pre">prepare</span></code></a>.</p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.data_received">
<code class="descclassname">RequestHandler.</code><code class="descname">data_received</code><span class="sig-paren">(</span><em>chunk: bytes</em><span class="sig-paren">)</span> &#x2192; Optional[Awaitable[None]]<a class="reference internal" href="_modules/tornado/web.html#RequestHandler.data_received"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.data_received" title="Permalink to this definition">¶</a></dt>
<dd><p>Implement this method to handle streamed request data.</p>
<p>Requires the <a class="reference internal" href="#tornado.web.stream_request_body" title="tornado.web.stream_request_body"><code class="xref py py-obj docutils literal notranslate"><span class="pre">stream_request_body</span></code></a> decorator.</p>
<p>May be a coroutine for flow control.</p>
</dd></dl>

</div>
<div class="section" id="output">
<h3>Output<a class="headerlink" href="#output" title="Permalink to this headline">¶</a></h3>
<dl class="method">
<dt id="tornado.web.RequestHandler.set_status">
<code class="descclassname">RequestHandler.</code><code class="descname">set_status</code><span class="sig-paren">(</span><em>status_code: int</em>, <em>reason: str = None</em><span class="sig-paren">)</span> &#x2192; None<a class="reference internal" href="_modules/tornado/web.html#RequestHandler.set_status"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.set_status" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the status code for our response.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>status_code</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – Response status code.</p></li>
<li><p><strong>reason</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – Human-readable reason phrase describing the status
code. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, it will be filled in from
<a class="reference external" href="https://docs.python.org/3.6/library/http.client.html#http.client.responses" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">http.client.responses</span></code></a> or “Unknown”.</p></li>
</ul>
</dd>
</dl>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 5.0: </span>No longer validates that the response code is in
<a class="reference external" href="https://docs.python.org/3.6/library/http.client.html#http.client.responses" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">http.client.responses</span></code></a>.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.set_header">
<code class="descclassname">RequestHandler.</code><code class="descname">set_header</code><span class="sig-paren">(</span><em>name: str, value: Union[bytes, str, int, numbers.Integral, datetime.datetime]</em><span class="sig-paren">)</span> &#x2192; None<a class="reference internal" href="_modules/tornado/web.html#RequestHandler.set_header"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.set_header" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the given response header name and value.</p>
<p>All header values are converted to strings (<a class="reference external" href="https://docs.python.org/3.6/library/datetime.html#module-datetime" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">datetime</span></code></a> objects
are formatted according to the HTTP specification for the
<code class="docutils literal notranslate"><span class="pre">Date</span></code> header).</p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.add_header">
<code class="descclassname">RequestHandler.</code><code class="descname">add_header</code><span class="sig-paren">(</span><em>name: str, value: Union[bytes, str, int, numbers.Integral, datetime.datetime]</em><span class="sig-paren">)</span> &#x2192; None<a class="reference internal" href="_modules/tornado/web.html#RequestHandler.add_header"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.add_header" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds the given response header and value.</p>
<p>Unlike <a class="reference internal" href="#tornado.web.RequestHandler.set_header" title="tornado.web.RequestHandler.set_header"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_header</span></code></a>, <a class="reference internal" href="#tornado.web.RequestHandler.add_header" title="tornado.web.RequestHandler.add_header"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_header</span></code></a> may be called multiple times
to return multiple values for the same header.</p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.clear_header">
<code class="descclassname">RequestHandler.</code><code class="descname">clear_header</code><span class="sig-paren">(</span><em>name: str</em><span class="sig-paren">)</span> &#x2192; None<a class="reference internal" href="_modules/tornado/web.html#RequestHandler.clear_header"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.clear_header" title="Permalink to this definition">¶</a></dt>
<dd><p>Clears an outgoing header, undoing a previous <a class="reference internal" href="#tornado.web.RequestHandler.set_header" title="tornado.web.RequestHandler.set_header"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_header</span></code></a> call.</p>
<p>Note that this method does not apply to multi-valued headers
set by <a class="reference internal" href="#tornado.web.RequestHandler.add_header" title="tornado.web.RequestHandler.add_header"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_header</span></code></a>.</p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.set_default_headers">
<code class="descclassname">RequestHandler.</code><code class="descname">set_default_headers</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; None<a class="reference internal" href="_modules/tornado/web.html#RequestHandler.set_default_headers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.set_default_headers" title="Permalink to this definition">¶</a></dt>
<dd><p>Override this to set HTTP headers at the beginning of the request.</p>
<p>For example, this is the place to set a custom <code class="docutils literal notranslate"><span class="pre">Server</span></code> header.
Note that setting such headers in the normal flow of request
processing may not do what you want, since headers may be reset
during error handling.</p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.write">
<code class="descclassname">RequestHandler.</code><code class="descname">write</code><span class="sig-paren">(</span><em>chunk: Union[str, bytes, dict]</em><span class="sig-paren">)</span> &#x2192; None<a class="reference internal" href="_modules/tornado/web.html#RequestHandler.write"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes the given chunk to the output buffer.</p>
<p>To write the output to the network, use the <a class="reference internal" href="#tornado.web.RequestHandler.flush" title="tornado.web.RequestHandler.flush"><code class="xref py py-obj docutils literal notranslate"><span class="pre">flush()</span></code></a> method below.</p>
<p>If the given chunk is a dictionary, we write it as JSON and set
the Content-Type of the response to be <code class="docutils literal notranslate"><span class="pre">application/json</span></code>.
(if you want to send JSON as a different <code class="docutils literal notranslate"><span class="pre">Content-Type</span></code>, call
<code class="docutils literal notranslate"><span class="pre">set_header</span></code> <em>after</em> calling <code class="docutils literal notranslate"><span class="pre">write()</span></code>).</p>
<p>Note that lists are not converted to JSON because of a potential
cross-site security vulnerability.  All JSON output should be
wrapped in a dictionary.  More details at
<a class="reference external" href="http://haacked.com/archive/2009/06/25/json-hijacking.aspx/">http://haacked.com/archive/2009/06/25/json-hijacking.aspx/</a> and
<a class="reference external" href="https://github.com/facebook/tornado/issues/1009">https://github.com/facebook/tornado/issues/1009</a></p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.flush">
<code class="descclassname">RequestHandler.</code><code class="descname">flush</code><span class="sig-paren">(</span><em>include_footers: bool = False</em><span class="sig-paren">)</span> &#x2192; Future[None]<a class="reference internal" href="_modules/tornado/web.html#RequestHandler.flush"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.flush" title="Permalink to this definition">¶</a></dt>
<dd><p>Flushes the current output buffer to the network.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">callback</span></code> argument, if given, can be used for flow control:
it will be run when all flushed data has been written to the socket.
Note that only one flush callback can be outstanding at a time;
if another flush occurs before the previous flush’s callback
has been run, the previous callback will be discarded.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 4.0: </span>Now returns a <a class="reference internal" href="concurrent.html#tornado.concurrent.Future" title="tornado.concurrent.Future"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Future</span></code></a> if no callback is given.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 6.0: </span>The <code class="docutils literal notranslate"><span class="pre">callback</span></code> argument was removed.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.finish">
<code class="descclassname">RequestHandler.</code><code class="descname">finish</code><span class="sig-paren">(</span><em>chunk: Union[str</em>, <em>bytes</em>, <em>dict] = None</em><span class="sig-paren">)</span> &#x2192; Future[None]<a class="reference internal" href="_modules/tornado/web.html#RequestHandler.finish"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.finish" title="Permalink to this definition">¶</a></dt>
<dd><p>Finishes this response, ending the HTTP request.</p>
<p>Passing a <code class="docutils literal notranslate"><span class="pre">chunk</span></code> to <code class="docutils literal notranslate"><span class="pre">finish()</span></code> is equivalent to passing that
chunk to <code class="docutils literal notranslate"><span class="pre">write()</span></code> and then calling <code class="docutils literal notranslate"><span class="pre">finish()</span></code> with no arguments.</p>
<p>Returns a <a class="reference internal" href="concurrent.html#tornado.concurrent.Future" title="tornado.concurrent.Future"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Future</span></code></a> which may optionally be awaited to track the sending
of the response to the client. This <a class="reference internal" href="concurrent.html#tornado.concurrent.Future" title="tornado.concurrent.Future"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Future</span></code></a> resolves when all the response
data has been sent, and raises an error if the connection is closed before all
data can be sent.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 5.1: </span>Now returns a <a class="reference internal" href="concurrent.html#tornado.concurrent.Future" title="tornado.concurrent.Future"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Future</span></code></a> instead of <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.render">
<code class="descclassname">RequestHandler.</code><code class="descname">render</code><span class="sig-paren">(</span><em>template_name: str</em>, <em>**kwargs</em><span class="sig-paren">)</span> &#x2192; Future[None]<a class="reference internal" href="_modules/tornado/web.html#RequestHandler.render"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.render" title="Permalink to this definition">¶</a></dt>
<dd><p>Renders the template with the given arguments as the response.</p>
<p><code class="docutils literal notranslate"><span class="pre">render()</span></code> calls <code class="docutils literal notranslate"><span class="pre">finish()</span></code>, so no other output methods can be called
after it.</p>
<p>Returns a <a class="reference internal" href="concurrent.html#tornado.concurrent.Future" title="tornado.concurrent.Future"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Future</span></code></a> with the same semantics as the one returned by <a class="reference internal" href="#tornado.web.RequestHandler.finish" title="tornado.web.RequestHandler.finish"><code class="xref py py-obj docutils literal notranslate"><span class="pre">finish</span></code></a>.
Awaiting this <a class="reference internal" href="concurrent.html#tornado.concurrent.Future" title="tornado.concurrent.Future"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Future</span></code></a> is optional.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 5.1: </span>Now returns a <a class="reference internal" href="concurrent.html#tornado.concurrent.Future" title="tornado.concurrent.Future"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Future</span></code></a> instead of <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.render_string">
<code class="descclassname">RequestHandler.</code><code class="descname">render_string</code><span class="sig-paren">(</span><em>template_name: str</em>, <em>**kwargs</em><span class="sig-paren">)</span> &#x2192; bytes<a class="reference internal" href="_modules/tornado/web.html#RequestHandler.render_string"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.render_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate the given template with the given arguments.</p>
<p>We return the generated byte string (in utf8). To generate and
write a template as a response, use render() above.</p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.get_template_namespace">
<code class="descclassname">RequestHandler.</code><code class="descname">get_template_namespace</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; Dict[str, Any]<a class="reference internal" href="_modules/tornado/web.html#RequestHandler.get_template_namespace"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.get_template_namespace" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a dictionary to be used as the default template namespace.</p>
<p>May be overridden by subclasses to add or modify values.</p>
<p>The results of this method will be combined with additional
defaults in the <a class="reference internal" href="template.html#module-tornado.template" title="tornado.template"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tornado.template</span></code></a> module and keyword arguments
to <a class="reference internal" href="#tornado.web.RequestHandler.render" title="tornado.web.RequestHandler.render"><code class="xref py py-obj docutils literal notranslate"><span class="pre">render</span></code></a> or <a class="reference internal" href="#tornado.web.RequestHandler.render_string" title="tornado.web.RequestHandler.render_string"><code class="xref py py-obj docutils literal notranslate"><span class="pre">render_string</span></code></a>.</p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.redirect">
<code class="descclassname">RequestHandler.</code><code class="descname">redirect</code><span class="sig-paren">(</span><em>url: str</em>, <em>permanent: bool = False</em>, <em>status: int = None</em><span class="sig-paren">)</span> &#x2192; None<a class="reference internal" href="_modules/tornado/web.html#RequestHandler.redirect"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.redirect" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends a redirect to the given (optionally relative) URL.</p>
<p>If the <code class="docutils literal notranslate"><span class="pre">status</span></code> argument is specified, that value is used as the
HTTP status code; otherwise either 301 (permanent) or 302
(temporary) is chosen based on the <code class="docutils literal notranslate"><span class="pre">permanent</span></code> argument.
The default is 302 (temporary).</p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.send_error">
<code class="descclassname">RequestHandler.</code><code class="descname">send_error</code><span class="sig-paren">(</span><em>status_code: int = 500</em>, <em>**kwargs</em><span class="sig-paren">)</span> &#x2192; None<a class="reference internal" href="_modules/tornado/web.html#RequestHandler.send_error"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.send_error" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends the given HTTP error code to the browser.</p>
<p>If <a class="reference internal" href="#tornado.web.RequestHandler.flush" title="tornado.web.RequestHandler.flush"><code class="xref py py-obj docutils literal notranslate"><span class="pre">flush()</span></code></a> has already been called, it is not possible to send
an error, so this method will simply terminate the response.
If output has been written but not yet flushed, it will be discarded
and replaced with the error page.</p>
<p>Override <a class="reference internal" href="#tornado.web.RequestHandler.write_error" title="tornado.web.RequestHandler.write_error"><code class="xref py py-obj docutils literal notranslate"><span class="pre">write_error()</span></code></a> to customize the error page that is returned.
Additional keyword arguments are passed through to <a class="reference internal" href="#tornado.web.RequestHandler.write_error" title="tornado.web.RequestHandler.write_error"><code class="xref py py-obj docutils literal notranslate"><span class="pre">write_error</span></code></a>.</p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.write_error">
<code class="descclassname">RequestHandler.</code><code class="descname">write_error</code><span class="sig-paren">(</span><em>status_code: int</em>, <em>**kwargs</em><span class="sig-paren">)</span> &#x2192; None<a class="reference internal" href="_modules/tornado/web.html#RequestHandler.write_error"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.write_error" title="Permalink to this definition">¶</a></dt>
<dd><p>Override to implement custom error pages.</p>
<p><code class="docutils literal notranslate"><span class="pre">write_error</span></code> may call <a class="reference internal" href="#tornado.web.RequestHandler.write" title="tornado.web.RequestHandler.write"><code class="xref py py-obj docutils literal notranslate"><span class="pre">write</span></code></a>, <a class="reference internal" href="#tornado.web.RequestHandler.render" title="tornado.web.RequestHandler.render"><code class="xref py py-obj docutils literal notranslate"><span class="pre">render</span></code></a>, <a class="reference internal" href="#tornado.web.RequestHandler.set_header" title="tornado.web.RequestHandler.set_header"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_header</span></code></a>, etc
to produce output as usual.</p>
<p>If this error was caused by an uncaught exception (including
HTTPError), an <code class="docutils literal notranslate"><span class="pre">exc_info</span></code> triple will be available as
<code class="docutils literal notranslate"><span class="pre">kwargs[&quot;exc_info&quot;]</span></code>.  Note that this exception may not be
the “current” exception for purposes of methods like
<code class="docutils literal notranslate"><span class="pre">sys.exc_info()</span></code> or <code class="docutils literal notranslate"><span class="pre">traceback.format_exc</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.clear">
<code class="descclassname">RequestHandler.</code><code class="descname">clear</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; None<a class="reference internal" href="_modules/tornado/web.html#RequestHandler.clear"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.clear" title="Permalink to this definition">¶</a></dt>
<dd><p>Resets all headers and content for this response.</p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.render_linked_js">
<code class="descclassname">RequestHandler.</code><code class="descname">render_linked_js</code><span class="sig-paren">(</span><em>js_files: Iterable[str]</em><span class="sig-paren">)</span> &#x2192; str<a class="reference internal" href="_modules/tornado/web.html#RequestHandler.render_linked_js"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.render_linked_js" title="Permalink to this definition">¶</a></dt>
<dd><p>Default method used to render the final js links for the
rendered webpage.</p>
<p>Override this method in a sub-classed controller to change the output.</p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.render_embed_js">
<code class="descclassname">RequestHandler.</code><code class="descname">render_embed_js</code><span class="sig-paren">(</span><em>js_embed: Iterable[bytes]</em><span class="sig-paren">)</span> &#x2192; bytes<a class="reference internal" href="_modules/tornado/web.html#RequestHandler.render_embed_js"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.render_embed_js" title="Permalink to this definition">¶</a></dt>
<dd><p>Default method used to render the final embedded js for the
rendered webpage.</p>
<p>Override this method in a sub-classed controller to change the output.</p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.render_linked_css">
<code class="descclassname">RequestHandler.</code><code class="descname">render_linked_css</code><span class="sig-paren">(</span><em>css_files: Iterable[str]</em><span class="sig-paren">)</span> &#x2192; str<a class="reference internal" href="_modules/tornado/web.html#RequestHandler.render_linked_css"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.render_linked_css" title="Permalink to this definition">¶</a></dt>
<dd><p>Default method used to render the final css links for the
rendered webpage.</p>
<p>Override this method in a sub-classed controller to change the output.</p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.render_embed_css">
<code class="descclassname">RequestHandler.</code><code class="descname">render_embed_css</code><span class="sig-paren">(</span><em>css_embed: Iterable[bytes]</em><span class="sig-paren">)</span> &#x2192; bytes<a class="reference internal" href="_modules/tornado/web.html#RequestHandler.render_embed_css"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.render_embed_css" title="Permalink to this definition">¶</a></dt>
<dd><p>Default method used to render the final embedded css for the
rendered webpage.</p>
<p>Override this method in a sub-classed controller to change the output.</p>
</dd></dl>

</div>
<div class="section" id="cookies">
<h3>Cookies<a class="headerlink" href="#cookies" title="Permalink to this headline">¶</a></h3>
<dl class="attribute">
<dt id="tornado.web.RequestHandler.cookies">
<code class="descclassname">RequestHandler.</code><code class="descname">cookies</code><a class="headerlink" href="#tornado.web.RequestHandler.cookies" title="Permalink to this definition">¶</a></dt>
<dd><p>An alias for
<a class="reference internal" href="httputil.html#tornado.httputil.HTTPServerRequest.cookies" title="tornado.httputil.HTTPServerRequest.cookies"><code class="xref py py-obj docutils literal notranslate"><span class="pre">self.request.cookies</span></code></a>.</p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.get_cookie">
<code class="descclassname">RequestHandler.</code><code class="descname">get_cookie</code><span class="sig-paren">(</span><em>name: str</em>, <em>default: str = None</em><span class="sig-paren">)</span> &#x2192; Optional[str]<a class="reference internal" href="_modules/tornado/web.html#RequestHandler.get_cookie"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.get_cookie" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the value of the request cookie with the given name.</p>
<p>If the named cookie is not present, returns <code class="docutils literal notranslate"><span class="pre">default</span></code>.</p>
<p>This method only returns cookies that were present in the request.
It does not see the outgoing cookies set by <a class="reference internal" href="#tornado.web.RequestHandler.set_cookie" title="tornado.web.RequestHandler.set_cookie"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_cookie</span></code></a> in this
handler.</p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.set_cookie">
<code class="descclassname">RequestHandler.</code><code class="descname">set_cookie</code><span class="sig-paren">(</span><em>name: str, value: Union[str, bytes], domain: str = None, expires: Union[float, Tuple, datetime.datetime] = None, path: str = '/', expires_days: int = None, **kwargs</em><span class="sig-paren">)</span> &#x2192; None<a class="reference internal" href="_modules/tornado/web.html#RequestHandler.set_cookie"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.set_cookie" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets an outgoing cookie name/value with the given options.</p>
<p>Newly-set cookies are not immediately visible via <a class="reference internal" href="#tornado.web.RequestHandler.get_cookie" title="tornado.web.RequestHandler.get_cookie"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_cookie</span></code></a>;
they are not present until the next request.</p>
<p>expires may be a numeric timestamp as returned by <a class="reference external" href="https://docs.python.org/3.6/library/time.html#time.time" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">time.time</span></code></a>,
a time tuple as returned by <a class="reference external" href="https://docs.python.org/3.6/library/time.html#time.gmtime" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">time.gmtime</span></code></a>, or a
<a class="reference external" href="https://docs.python.org/3.6/library/datetime.html#datetime.datetime" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">datetime.datetime</span></code></a> object.</p>
<p>Additional keyword arguments are set on the cookies.Morsel
directly.
See <a class="reference external" href="https://docs.python.org/3/library/http.cookies.html#http.cookies.Morsel">https://docs.python.org/3/library/http.cookies.html#http.cookies.Morsel</a>
for available attributes.</p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.clear_cookie">
<code class="descclassname">RequestHandler.</code><code class="descname">clear_cookie</code><span class="sig-paren">(</span><em>name: str</em>, <em>path: str = '/'</em>, <em>domain: str = None</em><span class="sig-paren">)</span> &#x2192; None<a class="reference internal" href="_modules/tornado/web.html#RequestHandler.clear_cookie"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.clear_cookie" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes the cookie with the given name.</p>
<p>Due to limitations of the cookie protocol, you must pass the same
path and domain to clear a cookie as were used when that cookie
was set (but there is no way to find out on the server side
which values were used for a given cookie).</p>
<p>Similar to <a class="reference internal" href="#tornado.web.RequestHandler.set_cookie" title="tornado.web.RequestHandler.set_cookie"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_cookie</span></code></a>, the effect of this method will not be
seen until the following request.</p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.clear_all_cookies">
<code class="descclassname">RequestHandler.</code><code class="descname">clear_all_cookies</code><span class="sig-paren">(</span><em>path: str = '/'</em>, <em>domain: str = None</em><span class="sig-paren">)</span> &#x2192; None<a class="reference internal" href="_modules/tornado/web.html#RequestHandler.clear_all_cookies"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.clear_all_cookies" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes all the cookies the user sent with this request.</p>
<p>See <a class="reference internal" href="#tornado.web.RequestHandler.clear_cookie" title="tornado.web.RequestHandler.clear_cookie"><code class="xref py py-obj docutils literal notranslate"><span class="pre">clear_cookie</span></code></a> for more information on the path and domain
parameters.</p>
<p>Similar to <a class="reference internal" href="#tornado.web.RequestHandler.set_cookie" title="tornado.web.RequestHandler.set_cookie"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_cookie</span></code></a>, the effect of this method will not be
seen until the following request.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 3.2: </span>Added the <code class="docutils literal notranslate"><span class="pre">path</span></code> and <code class="docutils literal notranslate"><span class="pre">domain</span></code> parameters.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.get_secure_cookie">
<code class="descclassname">RequestHandler.</code><code class="descname">get_secure_cookie</code><span class="sig-paren">(</span><em>name: str</em>, <em>value: str = None</em>, <em>max_age_days: int = 31</em>, <em>min_version: int = None</em><span class="sig-paren">)</span> &#x2192; Optional[bytes]<a class="reference internal" href="_modules/tornado/web.html#RequestHandler.get_secure_cookie"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.get_secure_cookie" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the given signed cookie if it validates, or None.</p>
<p>The decoded cookie value is returned as a byte string (unlike
<a class="reference internal" href="#tornado.web.RequestHandler.get_cookie" title="tornado.web.RequestHandler.get_cookie"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_cookie</span></code></a>).</p>
<p>Similar to <a class="reference internal" href="#tornado.web.RequestHandler.get_cookie" title="tornado.web.RequestHandler.get_cookie"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_cookie</span></code></a>, this method only returns cookies that
were present in the request. It does not see outgoing cookies set by
<a class="reference internal" href="#tornado.web.RequestHandler.set_secure_cookie" title="tornado.web.RequestHandler.set_secure_cookie"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_secure_cookie</span></code></a> in this handler.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 3.2.1: </span>Added the <code class="docutils literal notranslate"><span class="pre">min_version</span></code> argument.  Introduced cookie version 2;
both versions 1 and 2 are accepted by default.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.get_secure_cookie_key_version">
<code class="descclassname">RequestHandler.</code><code class="descname">get_secure_cookie_key_version</code><span class="sig-paren">(</span><em>name: str</em>, <em>value: str = None</em><span class="sig-paren">)</span> &#x2192; Optional[int]<a class="reference internal" href="_modules/tornado/web.html#RequestHandler.get_secure_cookie_key_version"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.get_secure_cookie_key_version" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the signing key version of the secure cookie.</p>
<p>The version is returned as int.</p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.set_secure_cookie">
<code class="descclassname">RequestHandler.</code><code class="descname">set_secure_cookie</code><span class="sig-paren">(</span><em>name: str, value: Union[str, bytes], expires_days: int = 30, version: int = None, **kwargs</em><span class="sig-paren">)</span> &#x2192; None<a class="reference internal" href="_modules/tornado/web.html#RequestHandler.set_secure_cookie"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.set_secure_cookie" title="Permalink to this definition">¶</a></dt>
<dd><p>Signs and timestamps a cookie so it cannot be forged.</p>
<p>You must specify the <code class="docutils literal notranslate"><span class="pre">cookie_secret</span></code> setting in your Application
to use this method. It should be a long, random sequence of bytes
to be used as the HMAC secret for the signature.</p>
<p>To read a cookie set with this method, use <a class="reference internal" href="#tornado.web.RequestHandler.get_secure_cookie" title="tornado.web.RequestHandler.get_secure_cookie"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_secure_cookie()</span></code></a>.</p>
<p>Note that the <code class="docutils literal notranslate"><span class="pre">expires_days</span></code> parameter sets the lifetime of the
cookie in the browser, but is independent of the <code class="docutils literal notranslate"><span class="pre">max_age_days</span></code>
parameter to <a class="reference internal" href="#tornado.web.RequestHandler.get_secure_cookie" title="tornado.web.RequestHandler.get_secure_cookie"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_secure_cookie</span></code></a>.</p>
<p>Secure cookies may contain arbitrary byte values, not just unicode
strings (unlike regular cookies)</p>
<p>Similar to <a class="reference internal" href="#tornado.web.RequestHandler.set_cookie" title="tornado.web.RequestHandler.set_cookie"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_cookie</span></code></a>, the effect of this method will not be
seen until the following request.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 3.2.1: </span>Added the <code class="docutils literal notranslate"><span class="pre">version</span></code> argument.  Introduced cookie version 2
and made it the default.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.create_signed_value">
<code class="descclassname">RequestHandler.</code><code class="descname">create_signed_value</code><span class="sig-paren">(</span><em>name: str, value: Union[str, bytes], version: int = None</em><span class="sig-paren">)</span> &#x2192; bytes<a class="reference internal" href="_modules/tornado/web.html#RequestHandler.create_signed_value"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.create_signed_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Signs and timestamps a string so it cannot be forged.</p>
<p>Normally used via set_secure_cookie, but provided as a separate
method for non-cookie uses.  To decode a value not stored
as a cookie use the optional value argument to get_secure_cookie.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 3.2.1: </span>Added the <code class="docutils literal notranslate"><span class="pre">version</span></code> argument.  Introduced cookie version 2
and made it the default.</p>
</div>
</dd></dl>

<dl class="data">
<dt id="tornado.web.MIN_SUPPORTED_SIGNED_VALUE_VERSION">
<code class="descclassname">tornado.web.</code><code class="descname">MIN_SUPPORTED_SIGNED_VALUE_VERSION</code><em class="property"> = 1</em><a class="headerlink" href="#tornado.web.MIN_SUPPORTED_SIGNED_VALUE_VERSION" title="Permalink to this definition">¶</a></dt>
<dd><p>The oldest signed value version supported by this version of Tornado.</p>
<p>Signed values older than this version cannot be decoded.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 3.2.1.</span></p>
</div>
</dd></dl>

<dl class="data">
<dt id="tornado.web.MAX_SUPPORTED_SIGNED_VALUE_VERSION">
<code class="descclassname">tornado.web.</code><code class="descname">MAX_SUPPORTED_SIGNED_VALUE_VERSION</code><em class="property"> = 2</em><a class="headerlink" href="#tornado.web.MAX_SUPPORTED_SIGNED_VALUE_VERSION" title="Permalink to this definition">¶</a></dt>
<dd><p>The newest signed value version supported by this version of Tornado.</p>
<p>Signed values newer than this version cannot be decoded.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 3.2.1.</span></p>
</div>
</dd></dl>

<dl class="data">
<dt id="tornado.web.DEFAULT_SIGNED_VALUE_VERSION">
<code class="descclassname">tornado.web.</code><code class="descname">DEFAULT_SIGNED_VALUE_VERSION</code><em class="property"> = 2</em><a class="headerlink" href="#tornado.web.DEFAULT_SIGNED_VALUE_VERSION" title="Permalink to this definition">¶</a></dt>
<dd><p>The signed value version produced by <a class="reference internal" href="#tornado.web.RequestHandler.create_signed_value" title="tornado.web.RequestHandler.create_signed_value"><code class="xref py py-obj docutils literal notranslate"><span class="pre">RequestHandler.create_signed_value</span></code></a>.</p>
<p>May be overridden by passing a <code class="docutils literal notranslate"><span class="pre">version</span></code> keyword argument.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 3.2.1.</span></p>
</div>
</dd></dl>

<dl class="data">
<dt id="tornado.web.DEFAULT_SIGNED_VALUE_MIN_VERSION">
<code class="descclassname">tornado.web.</code><code class="descname">DEFAULT_SIGNED_VALUE_MIN_VERSION</code><em class="property"> = 1</em><a class="headerlink" href="#tornado.web.DEFAULT_SIGNED_VALUE_MIN_VERSION" title="Permalink to this definition">¶</a></dt>
<dd><p>The oldest signed value accepted by <a class="reference internal" href="#tornado.web.RequestHandler.get_secure_cookie" title="tornado.web.RequestHandler.get_secure_cookie"><code class="xref py py-obj docutils literal notranslate"><span class="pre">RequestHandler.get_secure_cookie</span></code></a>.</p>
<p>May be overridden by passing a <code class="docutils literal notranslate"><span class="pre">min_version</span></code> keyword argument.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 3.2.1.</span></p>
</div>
</dd></dl>

</div>
<div class="section" id="other">
<h3>Other<a class="headerlink" href="#other" title="Permalink to this headline">¶</a></h3>
<dl class="attribute">
<dt id="tornado.web.RequestHandler.application">
<code class="descclassname">RequestHandler.</code><code class="descname">application</code><a class="headerlink" href="#tornado.web.RequestHandler.application" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="#tornado.web.Application" title="tornado.web.Application"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Application</span></code></a> object serving this request</p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.check_etag_header">
<code class="descclassname">RequestHandler.</code><code class="descname">check_etag_header</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; bool<a class="reference internal" href="_modules/tornado/web.html#RequestHandler.check_etag_header"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.check_etag_header" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks the <code class="docutils literal notranslate"><span class="pre">Etag</span></code> header against requests’s <code class="docutils literal notranslate"><span class="pre">If-None-Match</span></code>.</p>
<p>Returns <code class="docutils literal notranslate"><span class="pre">True</span></code> if the request’s Etag matches and a 304 should be
returned. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="bp">self</span><span class="o">.</span><span class="n">set_etag_header</span><span class="p">()</span>
<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_etag_header</span><span class="p">():</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">set_status</span><span class="p">(</span><span class="mi">304</span><span class="p">)</span>
    <span class="k">return</span>
</pre></div>
</div>
<p>This method is called automatically when the request is finished,
but may be called earlier for applications that override
<a class="reference internal" href="#tornado.web.RequestHandler.compute_etag" title="tornado.web.RequestHandler.compute_etag"><code class="xref py py-obj docutils literal notranslate"><span class="pre">compute_etag</span></code></a> and want to do an early check for <code class="docutils literal notranslate"><span class="pre">If-None-Match</span></code>
before completing the request.  The <code class="docutils literal notranslate"><span class="pre">Etag</span></code> header should be set
(perhaps with <a class="reference internal" href="#tornado.web.RequestHandler.set_etag_header" title="tornado.web.RequestHandler.set_etag_header"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_etag_header</span></code></a>) before calling this method.</p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.check_xsrf_cookie">
<code class="descclassname">RequestHandler.</code><code class="descname">check_xsrf_cookie</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; None<a class="reference internal" href="_modules/tornado/web.html#RequestHandler.check_xsrf_cookie"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.check_xsrf_cookie" title="Permalink to this definition">¶</a></dt>
<dd><p>Verifies that the <code class="docutils literal notranslate"><span class="pre">_xsrf</span></code> cookie matches the <code class="docutils literal notranslate"><span class="pre">_xsrf</span></code> argument.</p>
<p>To prevent cross-site request forgery, we set an <code class="docutils literal notranslate"><span class="pre">_xsrf</span></code>
cookie and include the same value as a non-cookie
field with all <code class="docutils literal notranslate"><span class="pre">POST</span></code> requests. If the two do not match, we
reject the form submission as a potential forgery.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">_xsrf</span></code> value may be set as either a form field named <code class="docutils literal notranslate"><span class="pre">_xsrf</span></code>
or in a custom HTTP header named <code class="docutils literal notranslate"><span class="pre">X-XSRFToken</span></code> or <code class="docutils literal notranslate"><span class="pre">X-CSRFToken</span></code>
(the latter is accepted for compatibility with Django).</p>
<p>See <a class="reference external" href="http://en.wikipedia.org/wiki/Cross-site_request_forgery">http://en.wikipedia.org/wiki/Cross-site_request_forgery</a></p>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 3.2.2: </span>Added support for cookie version 2.  Both versions 1 and 2 are
supported.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.compute_etag">
<code class="descclassname">RequestHandler.</code><code class="descname">compute_etag</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; Optional[str]<a class="reference internal" href="_modules/tornado/web.html#RequestHandler.compute_etag"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.compute_etag" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the etag header to be used for this request.</p>
<p>By default uses a hash of the content written so far.</p>
<p>May be overridden to provide custom etag implementations,
or may return None to disable tornado’s default etag support.</p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.create_template_loader">
<code class="descclassname">RequestHandler.</code><code class="descname">create_template_loader</code><span class="sig-paren">(</span><em>template_path: str</em><span class="sig-paren">)</span> &#x2192; tornado.template.BaseLoader<a class="reference internal" href="_modules/tornado/web.html#RequestHandler.create_template_loader"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.create_template_loader" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a new template loader for the given path.</p>
<p>May be overridden by subclasses.  By default returns a
directory-based loader on the given path, using the
<code class="docutils literal notranslate"><span class="pre">autoescape</span></code> and <code class="docutils literal notranslate"><span class="pre">template_whitespace</span></code> application
settings.  If a <code class="docutils literal notranslate"><span class="pre">template_loader</span></code> application setting is
supplied, uses that instead.</p>
</dd></dl>

<dl class="attribute">
<dt id="tornado.web.RequestHandler.current_user">
<code class="descclassname">RequestHandler.</code><code class="descname">current_user</code><a class="headerlink" href="#tornado.web.RequestHandler.current_user" title="Permalink to this definition">¶</a></dt>
<dd><p>The authenticated user for this request.</p>
<p>This is set in one of two ways:</p>
<ul>
<li><p>A subclass may override <a class="reference internal" href="#tornado.web.RequestHandler.get_current_user" title="tornado.web.RequestHandler.get_current_user"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_current_user()</span></code></a>, which will be called
automatically the first time <code class="docutils literal notranslate"><span class="pre">self.current_user</span></code> is accessed.
<a class="reference internal" href="#tornado.web.RequestHandler.get_current_user" title="tornado.web.RequestHandler.get_current_user"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_current_user()</span></code></a> will only be called once per request,
and is cached for future access:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">get_current_user</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">user_cookie</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_secure_cookie</span><span class="p">(</span><span class="s2">&quot;user&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">user_cookie</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">user_cookie</span><span class="p">)</span>
    <span class="k">return</span> <span class="kc">None</span>
</pre></div>
</div>
</li>
<li><p>It may be set as a normal variable, typically from an overridden
<a class="reference internal" href="#tornado.web.RequestHandler.prepare" title="tornado.web.RequestHandler.prepare"><code class="xref py py-obj docutils literal notranslate"><span class="pre">prepare()</span></code></a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@gen</span><span class="o">.</span><span class="n">coroutine</span>
<span class="k">def</span> <span class="nf">prepare</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">user_id_cookie</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_secure_cookie</span><span class="p">(</span><span class="s2">&quot;user_id&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">user_id_cookie</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">current_user</span> <span class="o">=</span> <span class="k">yield</span> <span class="n">load_user</span><span class="p">(</span><span class="n">user_id_cookie</span><span class="p">)</span>
</pre></div>
</div>
</li>
</ul>
<p>Note that <a class="reference internal" href="#tornado.web.RequestHandler.prepare" title="tornado.web.RequestHandler.prepare"><code class="xref py py-obj docutils literal notranslate"><span class="pre">prepare()</span></code></a> may be a coroutine while <a class="reference internal" href="#tornado.web.RequestHandler.get_current_user" title="tornado.web.RequestHandler.get_current_user"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_current_user()</span></code></a>
may not, so the latter form is necessary if loading the user requires
asynchronous operations.</p>
<p>The user object may be any type of the application’s choosing.</p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.detach">
<code class="descclassname">RequestHandler.</code><code class="descname">detach</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; tornado.iostream.IOStream<a class="reference internal" href="_modules/tornado/web.html#RequestHandler.detach"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.detach" title="Permalink to this definition">¶</a></dt>
<dd><p>Take control of the underlying stream.</p>
<p>Returns the underlying <a class="reference internal" href="iostream.html#tornado.iostream.IOStream" title="tornado.iostream.IOStream"><code class="xref py py-obj docutils literal notranslate"><span class="pre">IOStream</span></code></a> object and stops all
further HTTP processing. Intended for implementing protocols
like websockets that tunnel over an HTTP handshake.</p>
<p>This method is only supported when HTTP/1.1 is used.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 5.1.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.get_browser_locale">
<code class="descclassname">RequestHandler.</code><code class="descname">get_browser_locale</code><span class="sig-paren">(</span><em>default: str = 'en_US'</em><span class="sig-paren">)</span> &#x2192; tornado.locale.Locale<a class="reference internal" href="_modules/tornado/web.html#RequestHandler.get_browser_locale"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.get_browser_locale" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines the user’s locale from <code class="docutils literal notranslate"><span class="pre">Accept-Language</span></code> header.</p>
<p>See <a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.4">http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.4</a></p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.get_current_user">
<code class="descclassname">RequestHandler.</code><code class="descname">get_current_user</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; Any<a class="reference internal" href="_modules/tornado/web.html#RequestHandler.get_current_user"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.get_current_user" title="Permalink to this definition">¶</a></dt>
<dd><p>Override to determine the current user from, e.g., a cookie.</p>
<p>This method may not be a coroutine.</p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.get_login_url">
<code class="descclassname">RequestHandler.</code><code class="descname">get_login_url</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; str<a class="reference internal" href="_modules/tornado/web.html#RequestHandler.get_login_url"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.get_login_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Override to customize the login URL based on the request.</p>
<p>By default, we use the <code class="docutils literal notranslate"><span class="pre">login_url</span></code> application setting.</p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.get_status">
<code class="descclassname">RequestHandler.</code><code class="descname">get_status</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; int<a class="reference internal" href="_modules/tornado/web.html#RequestHandler.get_status"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.get_status" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the status code for our response.</p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.get_template_path">
<code class="descclassname">RequestHandler.</code><code class="descname">get_template_path</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; Optional[str]<a class="reference internal" href="_modules/tornado/web.html#RequestHandler.get_template_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.get_template_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Override to customize template path for each handler.</p>
<p>By default, we use the <code class="docutils literal notranslate"><span class="pre">template_path</span></code> application setting.
Return None to load templates relative to the calling file.</p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.get_user_locale">
<code class="descclassname">RequestHandler.</code><code class="descname">get_user_locale</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; Optional[tornado.locale.Locale]<a class="reference internal" href="_modules/tornado/web.html#RequestHandler.get_user_locale"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.get_user_locale" title="Permalink to this definition">¶</a></dt>
<dd><p>Override to determine the locale from the authenticated user.</p>
<p>If None is returned, we fall back to <a class="reference internal" href="#tornado.web.RequestHandler.get_browser_locale" title="tornado.web.RequestHandler.get_browser_locale"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_browser_locale()</span></code></a>.</p>
<p>This method should return a <a class="reference internal" href="locale.html#tornado.locale.Locale" title="tornado.locale.Locale"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tornado.locale.Locale</span></code></a> object,
most likely obtained via a call like <code class="docutils literal notranslate"><span class="pre">tornado.locale.get(&quot;en&quot;)</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="tornado.web.RequestHandler.locale">
<code class="descclassname">RequestHandler.</code><code class="descname">locale</code><a class="headerlink" href="#tornado.web.RequestHandler.locale" title="Permalink to this definition">¶</a></dt>
<dd><p>The locale for the current session.</p>
<p>Determined by either <a class="reference internal" href="#tornado.web.RequestHandler.get_user_locale" title="tornado.web.RequestHandler.get_user_locale"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_user_locale</span></code></a>, which you can override to
set the locale based on, e.g., a user preference stored in a
database, or <a class="reference internal" href="#tornado.web.RequestHandler.get_browser_locale" title="tornado.web.RequestHandler.get_browser_locale"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_browser_locale</span></code></a>, which uses the <code class="docutils literal notranslate"><span class="pre">Accept-Language</span></code>
header.</p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.log_exception">
<code class="descclassname">RequestHandler.</code><code class="descname">log_exception</code><span class="sig-paren">(</span><em>typ: Optional[Type[BaseException]], value: Optional[BaseException], tb: Optional[traceback]</em><span class="sig-paren">)</span> &#x2192; None<a class="reference internal" href="_modules/tornado/web.html#RequestHandler.log_exception"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.log_exception" title="Permalink to this definition">¶</a></dt>
<dd><p>Override to customize logging of uncaught exceptions.</p>
<p>By default logs instances of <a class="reference internal" href="#tornado.web.HTTPError" title="tornado.web.HTTPError"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HTTPError</span></code></a> as warnings without
stack traces (on the <code class="docutils literal notranslate"><span class="pre">tornado.general</span></code> logger), and all
other exceptions as errors with stack traces (on the
<code class="docutils literal notranslate"><span class="pre">tornado.application</span></code> logger).</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 3.1.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.on_connection_close">
<code class="descclassname">RequestHandler.</code><code class="descname">on_connection_close</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; None<a class="reference internal" href="_modules/tornado/web.html#RequestHandler.on_connection_close"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.on_connection_close" title="Permalink to this definition">¶</a></dt>
<dd><p>Called in async handlers if the client closed the connection.</p>
<p>Override this to clean up resources associated with
long-lived connections.  Note that this method is called only if
the connection was closed during asynchronous processing; if you
need to do cleanup after every request override <a class="reference internal" href="#tornado.web.RequestHandler.on_finish" title="tornado.web.RequestHandler.on_finish"><code class="xref py py-obj docutils literal notranslate"><span class="pre">on_finish</span></code></a>
instead.</p>
<p>Proxies may keep a connection open for a time (perhaps
indefinitely) after the client has gone away, so this method
may not be called promptly after the end user closes their
connection.</p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.require_setting">
<code class="descclassname">RequestHandler.</code><code class="descname">require_setting</code><span class="sig-paren">(</span><em>name: str</em>, <em>feature: str = 'this feature'</em><span class="sig-paren">)</span> &#x2192; None<a class="reference internal" href="_modules/tornado/web.html#RequestHandler.require_setting"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.require_setting" title="Permalink to this definition">¶</a></dt>
<dd><p>Raises an exception if the given app setting is not defined.</p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.reverse_url">
<code class="descclassname">RequestHandler.</code><code class="descname">reverse_url</code><span class="sig-paren">(</span><em>name: str</em>, <em>*args</em><span class="sig-paren">)</span> &#x2192; str<a class="reference internal" href="_modules/tornado/web.html#RequestHandler.reverse_url"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.reverse_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for <a class="reference internal" href="#tornado.web.Application.reverse_url" title="tornado.web.Application.reverse_url"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Application.reverse_url</span></code></a>.</p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.set_etag_header">
<code class="descclassname">RequestHandler.</code><code class="descname">set_etag_header</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; None<a class="reference internal" href="_modules/tornado/web.html#RequestHandler.set_etag_header"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.set_etag_header" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the response’s Etag header using <code class="docutils literal notranslate"><span class="pre">self.compute_etag()</span></code>.</p>
<p>Note: no header will be set if <code class="docutils literal notranslate"><span class="pre">compute_etag()</span></code> returns <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
<p>This method is called automatically when the request is finished.</p>
</dd></dl>

<dl class="attribute">
<dt id="tornado.web.RequestHandler.settings">
<code class="descclassname">RequestHandler.</code><code class="descname">settings</code><a class="headerlink" href="#tornado.web.RequestHandler.settings" title="Permalink to this definition">¶</a></dt>
<dd><p>An alias for <a class="reference internal" href="#tornado.web.Application.settings" title="tornado.web.Application.settings"><code class="xref py py-obj docutils literal notranslate"><span class="pre">self.application.settings</span></code></a>.</p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.static_url">
<code class="descclassname">RequestHandler.</code><code class="descname">static_url</code><span class="sig-paren">(</span><em>path: str</em>, <em>include_host: bool = None</em>, <em>**kwargs</em><span class="sig-paren">)</span> &#x2192; str<a class="reference internal" href="_modules/tornado/web.html#RequestHandler.static_url"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.static_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a static URL for the given relative static file path.</p>
<p>This method requires you set the <code class="docutils literal notranslate"><span class="pre">static_path</span></code> setting in your
application (which specifies the root directory of your static
files).</p>
<p>This method returns a versioned url (by default appending
<code class="docutils literal notranslate"><span class="pre">?v=&lt;signature&gt;</span></code>), which allows the static files to be
cached indefinitely.  This can be disabled by passing
<code class="docutils literal notranslate"><span class="pre">include_version=False</span></code> (in the default implementation;
other static file implementations are not required to support
this, but they may support other options).</p>
<p>By default this method returns URLs relative to the current
host, but if <code class="docutils literal notranslate"><span class="pre">include_host</span></code> is true the URL returned will be
absolute.  If this handler has an <code class="docutils literal notranslate"><span class="pre">include_host</span></code> attribute,
that value will be used as the default for all <a class="reference internal" href="#tornado.web.RequestHandler.static_url" title="tornado.web.RequestHandler.static_url"><code class="xref py py-obj docutils literal notranslate"><span class="pre">static_url</span></code></a>
calls that do not pass <code class="docutils literal notranslate"><span class="pre">include_host</span></code> as a keyword argument.</p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.xsrf_form_html">
<code class="descclassname">RequestHandler.</code><code class="descname">xsrf_form_html</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; str<a class="reference internal" href="_modules/tornado/web.html#RequestHandler.xsrf_form_html"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.xsrf_form_html" title="Permalink to this definition">¶</a></dt>
<dd><p>An HTML <code class="docutils literal notranslate"><span class="pre">&lt;input/&gt;</span></code> element to be included with all POST forms.</p>
<p>It defines the <code class="docutils literal notranslate"><span class="pre">_xsrf</span></code> input value, which we check on all POST
requests to prevent cross-site request forgery. If you have set
the <code class="docutils literal notranslate"><span class="pre">xsrf_cookies</span></code> application setting, you must include this
HTML within all of your HTML forms.</p>
<p>In a template, this method should be called with <code class="docutils literal notranslate"><span class="pre">{%</span> <span class="pre">module</span>
<span class="pre">xsrf_form_html()</span> <span class="pre">%}</span></code></p>
<p>See <a class="reference internal" href="#tornado.web.RequestHandler.check_xsrf_cookie" title="tornado.web.RequestHandler.check_xsrf_cookie"><code class="xref py py-obj docutils literal notranslate"><span class="pre">check_xsrf_cookie()</span></code></a> above for more information.</p>
</dd></dl>

<dl class="attribute">
<dt id="tornado.web.RequestHandler.xsrf_token">
<code class="descclassname">RequestHandler.</code><code class="descname">xsrf_token</code><a class="headerlink" href="#tornado.web.RequestHandler.xsrf_token" title="Permalink to this definition">¶</a></dt>
<dd><p>The XSRF-prevention token for the current user/session.</p>
<p>To prevent cross-site request forgery, we set an ‘_xsrf’ cookie
and include the same ‘_xsrf’ value as an argument with all POST
requests. If the two do not match, we reject the form submission
as a potential forgery.</p>
<p>See <a class="reference external" href="http://en.wikipedia.org/wiki/Cross-site_request_forgery">http://en.wikipedia.org/wiki/Cross-site_request_forgery</a></p>
<p>This property is of type <a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#bytes" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bytes</span></code></a>, but it contains only ASCII
characters. If a character string is required, there is no
need to base64-encode it; just decode the byte string as
UTF-8.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 3.2.2: </span>The xsrf token will now be have a random mask applied in every
request, which makes it safe to include the token in pages
that are compressed.  See <a class="reference external" href="http://breachattack.com">http://breachattack.com</a> for more
information on the issue fixed by this change.  Old (version 1)
cookies will be converted to version 2 when this method is called
unless the <code class="docutils literal notranslate"><span class="pre">xsrf_cookie_version</span></code> <a class="reference internal" href="#tornado.web.Application" title="tornado.web.Application"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Application</span></code></a> setting is
set to 1.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 4.3: </span>The <code class="docutils literal notranslate"><span class="pre">xsrf_cookie_kwargs</span></code> <a class="reference internal" href="#tornado.web.Application" title="tornado.web.Application"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Application</span></code></a> setting may be
used to supply additional cookie options (which will be
passed directly to <a class="reference internal" href="#tornado.web.RequestHandler.set_cookie" title="tornado.web.RequestHandler.set_cookie"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_cookie</span></code></a>). For example,
<code class="docutils literal notranslate"><span class="pre">xsrf_cookie_kwargs=dict(httponly=True,</span> <span class="pre">secure=True)</span></code>
will set the <code class="docutils literal notranslate"><span class="pre">secure</span></code> and <code class="docutils literal notranslate"><span class="pre">httponly</span></code> flags on the
<code class="docutils literal notranslate"><span class="pre">_xsrf</span></code> cookie.</p>
</div>
</dd></dl>

</div>
</div>
<div class="section" id="application-configuration">
<h2>Application configuration<a class="headerlink" href="#application-configuration" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="tornado.web.Application">
<em class="property">class </em><code class="descclassname">tornado.web.</code><code class="descname">Application</code><span class="sig-paren">(</span><em>handlers: List[Union[Rule</em>, <em>Tuple]] = None</em>, <em>default_host: str = None</em>, <em>transforms: List[Type[OutputTransform]] = None</em>, <em>**settings</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tornado/web.html#Application"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.Application" title="Permalink to this definition">¶</a></dt>
<dd><p>A collection of request handlers that make up a web application.</p>
<p>Instances of this class are callable and can be passed directly to
HTTPServer to serve the application:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">application</span> <span class="o">=</span> <span class="n">web</span><span class="o">.</span><span class="n">Application</span><span class="p">([</span>
    <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;/&quot;</span><span class="p">,</span> <span class="n">MainPageHandler</span><span class="p">),</span>
<span class="p">])</span>
<span class="n">http_server</span> <span class="o">=</span> <span class="n">httpserver</span><span class="o">.</span><span class="n">HTTPServer</span><span class="p">(</span><span class="n">application</span><span class="p">)</span>
<span class="n">http_server</span><span class="o">.</span><span class="n">listen</span><span class="p">(</span><span class="mi">8080</span><span class="p">)</span>
<span class="n">ioloop</span><span class="o">.</span><span class="n">IOLoop</span><span class="o">.</span><span class="n">current</span><span class="p">()</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
</pre></div>
</div>
<p>The constructor for this class takes in a list of <a class="reference internal" href="routing.html#tornado.routing.Rule" title="tornado.routing.Rule"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Rule</span></code></a>
objects or tuples of values corresponding to the arguments of
<a class="reference internal" href="routing.html#tornado.routing.Rule" title="tornado.routing.Rule"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Rule</span></code></a> constructor: <code class="docutils literal notranslate"><span class="pre">(matcher,</span> <span class="pre">target,</span> <span class="pre">[target_kwargs],</span> <span class="pre">[name])</span></code>,
the values in square brackets being optional. The default matcher is
<a class="reference internal" href="routing.html#tornado.routing.PathMatches" title="tornado.routing.PathMatches"><code class="xref py py-obj docutils literal notranslate"><span class="pre">PathMatches</span></code></a>, so <code class="docutils literal notranslate"><span class="pre">(regexp,</span> <span class="pre">target)</span></code> tuples can also be used
instead of <code class="docutils literal notranslate"><span class="pre">(PathMatches(regexp),</span> <span class="pre">target)</span></code>.</p>
<p>A common routing target is a <a class="reference internal" href="#tornado.web.RequestHandler" title="tornado.web.RequestHandler"><code class="xref py py-obj docutils literal notranslate"><span class="pre">RequestHandler</span></code></a> subclass, but you can also
use lists of rules as a target, which create a nested routing configuration:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">application</span> <span class="o">=</span> <span class="n">web</span><span class="o">.</span><span class="n">Application</span><span class="p">([</span>
    <span class="p">(</span><span class="n">HostMatches</span><span class="p">(</span><span class="s2">&quot;example.com&quot;</span><span class="p">),</span> <span class="p">[</span>
        <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;/&quot;</span><span class="p">,</span> <span class="n">MainPageHandler</span><span class="p">),</span>
        <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;/feed&quot;</span><span class="p">,</span> <span class="n">FeedHandler</span><span class="p">),</span>
    <span class="p">]),</span>
<span class="p">])</span>
</pre></div>
</div>
<p>In addition to this you can use nested <a class="reference internal" href="routing.html#tornado.routing.Router" title="tornado.routing.Router"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Router</span></code></a> instances,
<a class="reference internal" href="httputil.html#tornado.httputil.HTTPMessageDelegate" title="tornado.httputil.HTTPMessageDelegate"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HTTPMessageDelegate</span></code></a> subclasses and callables as routing targets
(see <a class="reference internal" href="routing.html#module-tornado.routing" title="tornado.routing"><code class="xref py py-obj docutils literal notranslate"><span class="pre">routing</span></code></a> module docs for more information).</p>
<p>When we receive requests, we iterate over the list in order and
instantiate an instance of the first request class whose regexp
matches the request path. The request class can be specified as
either a class object or a (fully-qualified) name.</p>
<p>A dictionary may be passed as the third element (<code class="docutils literal notranslate"><span class="pre">target_kwargs</span></code>)
of the tuple, which will be used as keyword arguments to the handler’s
constructor and <a class="reference internal" href="#tornado.web.RequestHandler.initialize" title="tornado.web.RequestHandler.initialize"><code class="xref py py-obj docutils literal notranslate"><span class="pre">initialize</span></code></a> method. This pattern
is used for the <a class="reference internal" href="#tornado.web.StaticFileHandler" title="tornado.web.StaticFileHandler"><code class="xref py py-obj docutils literal notranslate"><span class="pre">StaticFileHandler</span></code></a> in this example (note that a
<a class="reference internal" href="#tornado.web.StaticFileHandler" title="tornado.web.StaticFileHandler"><code class="xref py py-obj docutils literal notranslate"><span class="pre">StaticFileHandler</span></code></a> can be installed automatically with the
static_path setting described below):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">application</span> <span class="o">=</span> <span class="n">web</span><span class="o">.</span><span class="n">Application</span><span class="p">([</span>
    <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;/static/(.*)&quot;</span><span class="p">,</span> <span class="n">web</span><span class="o">.</span><span class="n">StaticFileHandler</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;path&quot;</span><span class="p">:</span> <span class="s2">&quot;/var/www&quot;</span><span class="p">}),</span>
<span class="p">])</span>
</pre></div>
</div>
<p>We support virtual hosts with the <a class="reference internal" href="#tornado.web.Application.add_handlers" title="tornado.web.Application.add_handlers"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_handlers</span></code></a> method, which takes in
a host regular expression as the first argument:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">application</span><span class="o">.</span><span class="n">add_handlers</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;www\.myhost\.com&quot;</span><span class="p">,</span> <span class="p">[</span>
    <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;/article/([0-9]+)&quot;</span><span class="p">,</span> <span class="n">ArticleHandler</span><span class="p">),</span>
<span class="p">])</span>
</pre></div>
</div>
<p>If there’s no match for the current request’s host, then <code class="docutils literal notranslate"><span class="pre">default_host</span></code>
parameter value is matched against host regular expressions.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Applications that do not use TLS may be vulnerable to <a class="reference internal" href="guide/security.html#dnsrebinding"><span class="std std-ref">DNS
rebinding</span></a> attacks. This attack is especially
relevant to applications that only listen on <code class="docutils literal notranslate"><span class="pre">127.0.0.1</span></code> or
other private networks. Appropriate host patterns must be used
(instead of the default of <code class="docutils literal notranslate"><span class="pre">r'.*'</span></code>) to prevent this risk. The
<code class="docutils literal notranslate"><span class="pre">default_host</span></code> argument must not be used in applications that
may be vulnerable to DNS rebinding.</p>
</div>
<p>You can serve static files by sending the <code class="docutils literal notranslate"><span class="pre">static_path</span></code> setting
as a keyword argument. We will serve those files from the
<code class="docutils literal notranslate"><span class="pre">/static/</span></code> URI (this is configurable with the
<code class="docutils literal notranslate"><span class="pre">static_url_prefix</span></code> setting), and we will serve <code class="docutils literal notranslate"><span class="pre">/favicon.ico</span></code>
and <code class="docutils literal notranslate"><span class="pre">/robots.txt</span></code> from the same directory.  A custom subclass of
<a class="reference internal" href="#tornado.web.StaticFileHandler" title="tornado.web.StaticFileHandler"><code class="xref py py-obj docutils literal notranslate"><span class="pre">StaticFileHandler</span></code></a> can be specified with the
<code class="docutils literal notranslate"><span class="pre">static_handler_class</span></code> setting.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 4.5: </span>Integration with the new <a class="reference internal" href="routing.html#module-tornado.routing" title="tornado.routing"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tornado.routing</span></code></a> module.</p>
</div>
<dl class="attribute">
<dt id="tornado.web.Application.settings">
<code class="descname">settings</code><a class="headerlink" href="#tornado.web.Application.settings" title="Permalink to this definition">¶</a></dt>
<dd><p>Additional keyword arguments passed to the constructor are
saved in the <a class="reference internal" href="#tornado.web.Application.settings" title="tornado.web.Application.settings"><code class="xref py py-obj docutils literal notranslate"><span class="pre">settings</span></code></a> dictionary, and are often referred to
in documentation as “application settings”.  Settings are
used to customize various aspects of Tornado (although in
some cases richer customization is possible by overriding
methods in a subclass of <a class="reference internal" href="#tornado.web.RequestHandler" title="tornado.web.RequestHandler"><code class="xref py py-obj docutils literal notranslate"><span class="pre">RequestHandler</span></code></a>).  Some
applications also like to use the <a class="reference internal" href="#tornado.web.Application.settings" title="tornado.web.Application.settings"><code class="xref py py-obj docutils literal notranslate"><span class="pre">settings</span></code></a> dictionary as a
way to make application-specific settings available to
handlers without using global variables.  Settings used in
Tornado are described below.</p>
<p>General settings:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">autoreload</span></code>: If <code class="docutils literal notranslate"><span class="pre">True</span></code>, the server process will restart
when any source files change, as described in <a class="reference internal" href="guide/running.html#debug-mode"><span class="std std-ref">Debug mode and automatic reloading</span></a>.
This option is new in Tornado 3.2; previously this functionality
was controlled by the <code class="docutils literal notranslate"><span class="pre">debug</span></code> setting.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">debug</span></code>: Shorthand for several debug mode settings,
described in <a class="reference internal" href="guide/running.html#debug-mode"><span class="std std-ref">Debug mode and automatic reloading</span></a>.  Setting <code class="docutils literal notranslate"><span class="pre">debug=True</span></code> is
equivalent to <code class="docutils literal notranslate"><span class="pre">autoreload=True</span></code>, <code class="docutils literal notranslate"><span class="pre">compiled_template_cache=False</span></code>,
<code class="docutils literal notranslate"><span class="pre">static_hash_cache=False</span></code>, <code class="docutils literal notranslate"><span class="pre">serve_traceback=True</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">default_handler_class</span></code> and <code class="docutils literal notranslate"><span class="pre">default_handler_args</span></code>:
This handler will be used if no other match is found;
use this to implement custom 404 pages (new in Tornado 3.2).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">compress_response</span></code>: If <code class="docutils literal notranslate"><span class="pre">True</span></code>, responses in textual formats
will be compressed automatically.  New in Tornado 4.0.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">gzip</span></code>: Deprecated alias for <code class="docutils literal notranslate"><span class="pre">compress_response</span></code> since
Tornado 4.0.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">log_function</span></code>: This function will be called at the end
of every request to log the result (with one argument, the
<a class="reference internal" href="#tornado.web.RequestHandler" title="tornado.web.RequestHandler"><code class="xref py py-obj docutils literal notranslate"><span class="pre">RequestHandler</span></code></a> object).  The default implementation
writes to the <a class="reference external" href="https://docs.python.org/3.6/library/logging.html#module-logging" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">logging</span></code></a> module’s root logger.  May also be
customized by overriding <a class="reference internal" href="#tornado.web.Application.log_request" title="tornado.web.Application.log_request"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Application.log_request</span></code></a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">serve_traceback</span></code>: If <code class="docutils literal notranslate"><span class="pre">True</span></code>, the default error page
will include the traceback of the error.  This option is new in
Tornado 3.2; previously this functionality was controlled by
the <code class="docutils literal notranslate"><span class="pre">debug</span></code> setting.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ui_modules</span></code> and <code class="docutils literal notranslate"><span class="pre">ui_methods</span></code>: May be set to a mapping
of <a class="reference internal" href="#tornado.web.UIModule" title="tornado.web.UIModule"><code class="xref py py-obj docutils literal notranslate"><span class="pre">UIModule</span></code></a> or UI methods to be made available to templates.
May be set to a module, dictionary, or a list of modules
and/or dicts.  See <a class="reference internal" href="guide/templates.html#ui-modules"><span class="std std-ref">UI modules</span></a> for more details.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">websocket_ping_interval</span></code>: If set to a number, all websockets will
be pinged every n seconds. This can help keep the connection alive
through certain proxy servers which close idle connections, and it
can detect if the websocket has failed without being properly closed.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">websocket_ping_timeout</span></code>: If the ping interval is set, and the
server doesn’t receive a ‘pong’ in this many seconds, it will close
the websocket. The default is three times the ping interval, with a
minimum of 30 seconds. Ignored if the ping interval is not set.</p></li>
</ul>
<p>Authentication and security settings:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">cookie_secret</span></code>: Used by <a class="reference internal" href="#tornado.web.RequestHandler.get_secure_cookie" title="tornado.web.RequestHandler.get_secure_cookie"><code class="xref py py-obj docutils literal notranslate"><span class="pre">RequestHandler.get_secure_cookie</span></code></a>
and <a class="reference internal" href="#tornado.web.RequestHandler.set_secure_cookie" title="tornado.web.RequestHandler.set_secure_cookie"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_secure_cookie</span></code></a> to sign cookies.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">key_version</span></code>: Used by requestHandler <a class="reference internal" href="#tornado.web.RequestHandler.set_secure_cookie" title="tornado.web.RequestHandler.set_secure_cookie"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_secure_cookie</span></code></a>
to sign cookies with a specific key when <code class="docutils literal notranslate"><span class="pre">cookie_secret</span></code>
is a key dictionary.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">login_url</span></code>: The <a class="reference internal" href="#tornado.web.authenticated" title="tornado.web.authenticated"><code class="xref py py-obj docutils literal notranslate"><span class="pre">authenticated</span></code></a> decorator will redirect
to this url if the user is not logged in.  Can be further
customized by overriding <a class="reference internal" href="#tornado.web.RequestHandler.get_login_url" title="tornado.web.RequestHandler.get_login_url"><code class="xref py py-obj docutils literal notranslate"><span class="pre">RequestHandler.get_login_url</span></code></a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xsrf_cookies</span></code>: If <code class="docutils literal notranslate"><span class="pre">True</span></code>, <a class="reference internal" href="guide/security.html#xsrf"><span class="std std-ref">Cross-site request forgery protection</span></a> will be enabled.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xsrf_cookie_version</span></code>: Controls the version of new XSRF
cookies produced by this server.  Should generally be left
at the default (which will always be the highest supported
version), but may be set to a lower value temporarily
during version transitions.  New in Tornado 3.2.2, which
introduced XSRF cookie version 2.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xsrf_cookie_kwargs</span></code>: May be set to a dictionary of
additional arguments to be passed to <a class="reference internal" href="#tornado.web.RequestHandler.set_cookie" title="tornado.web.RequestHandler.set_cookie"><code class="xref py py-obj docutils literal notranslate"><span class="pre">RequestHandler.set_cookie</span></code></a>
for the XSRF cookie.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">twitter_consumer_key</span></code>, <code class="docutils literal notranslate"><span class="pre">twitter_consumer_secret</span></code>,
<code class="docutils literal notranslate"><span class="pre">friendfeed_consumer_key</span></code>, <code class="docutils literal notranslate"><span class="pre">friendfeed_consumer_secret</span></code>,
<code class="docutils literal notranslate"><span class="pre">google_consumer_key</span></code>, <code class="docutils literal notranslate"><span class="pre">google_consumer_secret</span></code>,
<code class="docutils literal notranslate"><span class="pre">facebook_api_key</span></code>, <code class="docutils literal notranslate"><span class="pre">facebook_secret</span></code>:  Used in the
<a class="reference internal" href="auth.html#module-tornado.auth" title="tornado.auth"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tornado.auth</span></code></a> module to authenticate to various APIs.</p></li>
</ul>
<p>Template settings:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">autoescape</span></code>: Controls automatic escaping for templates.
May be set to <code class="docutils literal notranslate"><span class="pre">None</span></code> to disable escaping, or to the <em>name</em>
of a function that all output should be passed through.
Defaults to <code class="docutils literal notranslate"><span class="pre">&quot;xhtml_escape&quot;</span></code>.  Can be changed on a per-template
basis with the <code class="docutils literal notranslate"><span class="pre">{%</span> <span class="pre">autoescape</span> <span class="pre">%}</span></code> directive.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">compiled_template_cache</span></code>: Default is <code class="docutils literal notranslate"><span class="pre">True</span></code>; if <code class="docutils literal notranslate"><span class="pre">False</span></code>
templates will be recompiled on every request.  This option
is new in Tornado 3.2; previously this functionality was controlled
by the <code class="docutils literal notranslate"><span class="pre">debug</span></code> setting.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">template_path</span></code>: Directory containing template files.  Can be
further customized by overriding <a class="reference internal" href="#tornado.web.RequestHandler.get_template_path" title="tornado.web.RequestHandler.get_template_path"><code class="xref py py-obj docutils literal notranslate"><span class="pre">RequestHandler.get_template_path</span></code></a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">template_loader</span></code>: Assign to an instance of
<a class="reference internal" href="template.html#tornado.template.BaseLoader" title="tornado.template.BaseLoader"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tornado.template.BaseLoader</span></code></a> to customize template loading.
If this setting is used the <code class="docutils literal notranslate"><span class="pre">template_path</span></code> and <code class="docutils literal notranslate"><span class="pre">autoescape</span></code>
settings are ignored.  Can be further customized by overriding
<a class="reference internal" href="#tornado.web.RequestHandler.create_template_loader" title="tornado.web.RequestHandler.create_template_loader"><code class="xref py py-obj docutils literal notranslate"><span class="pre">RequestHandler.create_template_loader</span></code></a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">template_whitespace</span></code>: Controls handling of whitespace in
templates; see <a class="reference internal" href="template.html#tornado.template.filter_whitespace" title="tornado.template.filter_whitespace"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tornado.template.filter_whitespace</span></code></a> for allowed
values. New in Tornado 4.3.</p></li>
</ul>
<p>Static file settings:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">static_hash_cache</span></code>: Default is <code class="docutils literal notranslate"><span class="pre">True</span></code>; if <code class="docutils literal notranslate"><span class="pre">False</span></code>
static urls will be recomputed on every request.  This option
is new in Tornado 3.2; previously this functionality was controlled
by the <code class="docutils literal notranslate"><span class="pre">debug</span></code> setting.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">static_path</span></code>: Directory from which static files will be
served.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">static_url_prefix</span></code>:  Url prefix for static files,
defaults to <code class="docutils literal notranslate"><span class="pre">&quot;/static/&quot;</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">static_handler_class</span></code>, <code class="docutils literal notranslate"><span class="pre">static_handler_args</span></code>: May be set to
use a different handler for static files instead of the default
<a class="reference internal" href="#tornado.web.StaticFileHandler" title="tornado.web.StaticFileHandler"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tornado.web.StaticFileHandler</span></code></a>.  <code class="docutils literal notranslate"><span class="pre">static_handler_args</span></code>, if set,
should be a dictionary of keyword arguments to be passed to the
handler’s <code class="docutils literal notranslate"><span class="pre">initialize</span></code> method.</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="method">
<dt id="tornado.web.Application.listen">
<code class="descclassname">Application.</code><code class="descname">listen</code><span class="sig-paren">(</span><em>port: int</em>, <em>address: str = ''</em>, <em>**kwargs</em><span class="sig-paren">)</span> &#x2192; tornado.httpserver.HTTPServer<a class="reference internal" href="_modules/tornado/web.html#Application.listen"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.Application.listen" title="Permalink to this definition">¶</a></dt>
<dd><p>Starts an HTTP server for this application on the given port.</p>
<p>This is a convenience alias for creating an <a class="reference internal" href="httpserver.html#tornado.httpserver.HTTPServer" title="tornado.httpserver.HTTPServer"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HTTPServer</span></code></a>
object and calling its listen method.  Keyword arguments not
supported by <a class="reference internal" href="tcpserver.html#tornado.tcpserver.TCPServer.listen" title="tornado.tcpserver.TCPServer.listen"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HTTPServer.listen</span></code></a> are passed to the
<a class="reference internal" href="httpserver.html#tornado.httpserver.HTTPServer" title="tornado.httpserver.HTTPServer"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HTTPServer</span></code></a> constructor.  For advanced uses
(e.g. multi-process mode), do not use this method; create an
<a class="reference internal" href="httpserver.html#tornado.httpserver.HTTPServer" title="tornado.httpserver.HTTPServer"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HTTPServer</span></code></a> and call its
<a class="reference internal" href="tcpserver.html#tornado.tcpserver.TCPServer.bind" title="tornado.tcpserver.TCPServer.bind"><code class="xref py py-obj docutils literal notranslate"><span class="pre">TCPServer.bind</span></code></a>/<a class="reference internal" href="tcpserver.html#tornado.tcpserver.TCPServer.start" title="tornado.tcpserver.TCPServer.start"><code class="xref py py-obj docutils literal notranslate"><span class="pre">TCPServer.start</span></code></a> methods directly.</p>
<p>Note that after calling this method you still need to call
<code class="docutils literal notranslate"><span class="pre">IOLoop.current().start()</span></code> to start the server.</p>
<p>Returns the <a class="reference internal" href="httpserver.html#tornado.httpserver.HTTPServer" title="tornado.httpserver.HTTPServer"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HTTPServer</span></code></a> object.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 4.3: </span>Now returns the <a class="reference internal" href="httpserver.html#tornado.httpserver.HTTPServer" title="tornado.httpserver.HTTPServer"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HTTPServer</span></code></a> object.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="tornado.web.Application.add_handlers">
<code class="descclassname">Application.</code><code class="descname">add_handlers</code><span class="sig-paren">(</span><em>handlers: List[Union[Rule, Tuple]]</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tornado/web.html#Application.add_handlers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.Application.add_handlers" title="Permalink to this definition">¶</a></dt>
<dd><p>Appends the given handlers to our handler list.</p>
<p>Host patterns are processed sequentially in the order they were
added. All matching patterns will be considered.</p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.Application.get_handler_delegate">
<code class="descclassname">Application.</code><code class="descname">get_handler_delegate</code><span class="sig-paren">(</span><em>request: tornado.httputil.HTTPServerRequest, target_class: Type[tornado.web.RequestHandler], target_kwargs: Dict[str, Any] = None, path_args: List[bytes] = None, path_kwargs: Dict[str, bytes] = None</em><span class="sig-paren">)</span> &#x2192; tornado.web._HandlerDelegate<a class="reference internal" href="_modules/tornado/web.html#Application.get_handler_delegate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.Application.get_handler_delegate" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns <a class="reference internal" href="httputil.html#tornado.httputil.HTTPMessageDelegate" title="tornado.httputil.HTTPMessageDelegate"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HTTPMessageDelegate</span></code></a> that can serve a request
for application and <a class="reference internal" href="#tornado.web.RequestHandler" title="tornado.web.RequestHandler"><code class="xref py py-obj docutils literal notranslate"><span class="pre">RequestHandler</span></code></a> subclass.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>request</strong> (<a class="reference internal" href="httputil.html#tornado.httputil.HTTPServerRequest" title="tornado.httputil.HTTPServerRequest"><em>httputil.HTTPServerRequest</em></a>) – current HTTP request.</p></li>
<li><p><strong>target_class</strong> (<a class="reference internal" href="#tornado.web.RequestHandler" title="tornado.web.RequestHandler"><em>RequestHandler</em></a>) – a <a class="reference internal" href="#tornado.web.RequestHandler" title="tornado.web.RequestHandler"><code class="xref py py-obj docutils literal notranslate"><span class="pre">RequestHandler</span></code></a> class.</p></li>
<li><p><strong>target_kwargs</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#dict" title="(in Python v3.6)"><em>dict</em></a>) – keyword arguments for <code class="docutils literal notranslate"><span class="pre">target_class</span></code> constructor.</p></li>
<li><p><strong>path_args</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a>) – positional arguments for <code class="docutils literal notranslate"><span class="pre">target_class</span></code> HTTP method that
will be executed while handling a request (<code class="docutils literal notranslate"><span class="pre">get</span></code>, <code class="docutils literal notranslate"><span class="pre">post</span></code> or any other).</p></li>
<li><p><strong>path_kwargs</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#dict" title="(in Python v3.6)"><em>dict</em></a>) – keyword arguments for <code class="docutils literal notranslate"><span class="pre">target_class</span></code> HTTP method.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="tornado.web.Application.reverse_url">
<code class="descclassname">Application.</code><code class="descname">reverse_url</code><span class="sig-paren">(</span><em>name: str</em>, <em>*args</em><span class="sig-paren">)</span> &#x2192; str<a class="reference internal" href="_modules/tornado/web.html#Application.reverse_url"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.Application.reverse_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a URL path for handler named <code class="docutils literal notranslate"><span class="pre">name</span></code></p>
<p>The handler must be added to the application as a named <a class="reference internal" href="#tornado.web.URLSpec" title="tornado.web.URLSpec"><code class="xref py py-obj docutils literal notranslate"><span class="pre">URLSpec</span></code></a>.</p>
<p>Args will be substituted for capturing groups in the <a class="reference internal" href="#tornado.web.URLSpec" title="tornado.web.URLSpec"><code class="xref py py-obj docutils literal notranslate"><span class="pre">URLSpec</span></code></a> regex.
They will be converted to strings if necessary, encoded as utf8,
and url-escaped.</p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.Application.log_request">
<code class="descclassname">Application.</code><code class="descname">log_request</code><span class="sig-paren">(</span><em>handler: tornado.web.RequestHandler</em><span class="sig-paren">)</span> &#x2192; None<a class="reference internal" href="_modules/tornado/web.html#Application.log_request"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.Application.log_request" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes a completed HTTP request to the logs.</p>
<p>By default writes to the python root logger.  To change
this behavior either subclass Application and override this method,
or pass a function in the application settings dictionary as
<code class="docutils literal notranslate"><span class="pre">log_function</span></code>.</p>
</dd></dl>

<dl class="class">
<dt id="tornado.web.URLSpec">
<em class="property">class </em><code class="descclassname">tornado.web.</code><code class="descname">URLSpec</code><span class="sig-paren">(</span><em>pattern: Union[str, Pattern[AnyStr]], handler: Any, kwargs: Dict[str, Any] = None, name: str = None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tornado/routing.html#URLSpec"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.URLSpec" title="Permalink to this definition">¶</a></dt>
<dd><p>Specifies mappings between URLs and handlers.</p>
<p>Parameters:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">pattern</span></code>: Regular expression to be matched. Any capturing
groups in the regex will be passed in to the handler’s
get/post/etc methods as arguments (by keyword if named, by
position if unnamed. Named and unnamed capturing groups
may not be mixed in the same rule).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">handler</span></code>: <a class="reference internal" href="#tornado.web.RequestHandler" title="tornado.web.RequestHandler"><code class="xref py py-obj docutils literal notranslate"><span class="pre">RequestHandler</span></code></a> subclass to be invoked.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">kwargs</span></code> (optional): A dictionary of additional arguments
to be passed to the handler’s constructor.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">name</span></code> (optional): A name for this handler.  Used by
<a class="reference internal" href="#tornado.web.Application.reverse_url" title="tornado.web.Application.reverse_url"><code class="xref py py-obj docutils literal notranslate"><span class="pre">reverse_url</span></code></a>.</p></li>
</ul>
<p>The <code class="docutils literal notranslate"><span class="pre">URLSpec</span></code> class is also available under the name <code class="docutils literal notranslate"><span class="pre">tornado.web.url</span></code>.</p>
</dd></dl>

</div>
<div class="section" id="decorators">
<h2>Decorators<a class="headerlink" href="#decorators" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="tornado.web.authenticated">
<code class="descclassname">tornado.web.</code><code class="descname">authenticated</code><span class="sig-paren">(</span><em>method: Callable[[...], Optional[Awaitable[None]]]</em><span class="sig-paren">)</span> &#x2192; Callable[[...], Optional[Awaitable[None]]]<a class="reference internal" href="_modules/tornado/web.html#authenticated"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.authenticated" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorate methods with this to require that the user be logged in.</p>
<p>If the user is not logged in, they will be redirected to the configured
<a class="reference internal" href="#tornado.web.RequestHandler.get_login_url" title="tornado.web.RequestHandler.get_login_url"><code class="xref py py-obj docutils literal notranslate"><span class="pre">login</span> <span class="pre">url</span></code></a>.</p>
<p>If you configure a login url with a query parameter, Tornado will
assume you know what you’re doing and use it as-is.  If not, it
will add a <a class="reference external" href="https://docs.python.org/3.6/library/functions.html#next" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">next</span></code></a> parameter so the login page knows where to send
you once you’re logged in.</p>
</dd></dl>

<dl class="function">
<dt id="tornado.web.addslash">
<code class="descclassname">tornado.web.</code><code class="descname">addslash</code><span class="sig-paren">(</span><em>method: Callable[[...], Optional[Awaitable[None]]]</em><span class="sig-paren">)</span> &#x2192; Callable[[...], Optional[Awaitable[None]]]<a class="reference internal" href="_modules/tornado/web.html#addslash"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.addslash" title="Permalink to this definition">¶</a></dt>
<dd><p>Use this decorator to add a missing trailing slash to the request path.</p>
<p>For example, a request to <code class="docutils literal notranslate"><span class="pre">/foo</span></code> would redirect to <code class="docutils literal notranslate"><span class="pre">/foo/</span></code> with this
decorator. Your request handler mapping should use a regular expression
like <code class="docutils literal notranslate"><span class="pre">r'/foo/?'</span></code> in conjunction with using the decorator.</p>
</dd></dl>

<dl class="function">
<dt id="tornado.web.removeslash">
<code class="descclassname">tornado.web.</code><code class="descname">removeslash</code><span class="sig-paren">(</span><em>method: Callable[[...], Optional[Awaitable[None]]]</em><span class="sig-paren">)</span> &#x2192; Callable[[...], Optional[Awaitable[None]]]<a class="reference internal" href="_modules/tornado/web.html#removeslash"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.removeslash" title="Permalink to this definition">¶</a></dt>
<dd><p>Use this decorator to remove trailing slashes from the request path.</p>
<p>For example, a request to <code class="docutils literal notranslate"><span class="pre">/foo/</span></code> would redirect to <code class="docutils literal notranslate"><span class="pre">/foo</span></code> with this
decorator. Your request handler mapping should use a regular expression
like <code class="docutils literal notranslate"><span class="pre">r'/foo/*'</span></code> in conjunction with using the decorator.</p>
</dd></dl>

<dl class="function">
<dt id="tornado.web.stream_request_body">
<code class="descclassname">tornado.web.</code><code class="descname">stream_request_body</code><span class="sig-paren">(</span><em>cls: Type[tornado.web.RequestHandler]</em><span class="sig-paren">)</span> &#x2192; Type[tornado.web.RequestHandler]<a class="reference internal" href="_modules/tornado/web.html#stream_request_body"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.stream_request_body" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply to <a class="reference internal" href="#tornado.web.RequestHandler" title="tornado.web.RequestHandler"><code class="xref py py-obj docutils literal notranslate"><span class="pre">RequestHandler</span></code></a> subclasses to enable streaming body support.</p>
<p>This decorator implies the following changes:</p>
<ul class="simple">
<li><p><a class="reference internal" href="httputil.html#tornado.httputil.HTTPServerRequest.body" title="tornado.httputil.HTTPServerRequest.body"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HTTPServerRequest.body</span></code></a> is undefined, and body arguments will not
be included in <a class="reference internal" href="#tornado.web.RequestHandler.get_argument" title="tornado.web.RequestHandler.get_argument"><code class="xref py py-obj docutils literal notranslate"><span class="pre">RequestHandler.get_argument</span></code></a>.</p></li>
<li><p><a class="reference internal" href="#tornado.web.RequestHandler.prepare" title="tornado.web.RequestHandler.prepare"><code class="xref py py-obj docutils literal notranslate"><span class="pre">RequestHandler.prepare</span></code></a> is called when the request headers have been
read instead of after the entire body has been read.</p></li>
<li><p>The subclass must define a method <code class="docutils literal notranslate"><span class="pre">data_received(self,</span> <span class="pre">data):</span></code>, which
will be called zero or more times as data is available.  Note that
if the request has an empty body, <code class="docutils literal notranslate"><span class="pre">data_received</span></code> may not be called.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">prepare</span></code> and <code class="docutils literal notranslate"><span class="pre">data_received</span></code> may return Futures (such as via
<code class="docutils literal notranslate"><span class="pre">&#64;gen.coroutine</span></code>, in which case the next method will not be called
until those futures have completed.</p></li>
<li><p>The regular HTTP method (<code class="docutils literal notranslate"><span class="pre">post</span></code>, <code class="docutils literal notranslate"><span class="pre">put</span></code>, etc) will be called after
the entire body has been read.</p></li>
</ul>
<p>See the <a class="reference external" href="https://github.com/tornadoweb/tornado/tree/master/demos/file_upload/">file receiver demo</a>
for example usage.</p>
</dd></dl>

</div>
<div class="section" id="everything-else">
<h2>Everything else<a class="headerlink" href="#everything-else" title="Permalink to this headline">¶</a></h2>
<dl class="exception">
<dt id="tornado.web.HTTPError">
<em class="property">exception </em><code class="descclassname">tornado.web.</code><code class="descname">HTTPError</code><span class="sig-paren">(</span><em>status_code: int = 500</em>, <em>log_message: str = None</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tornado/web.html#HTTPError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.HTTPError" title="Permalink to this definition">¶</a></dt>
<dd><p>An exception that will turn into an HTTP error response.</p>
<p>Raising an <a class="reference internal" href="#tornado.web.HTTPError" title="tornado.web.HTTPError"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HTTPError</span></code></a> is a convenient alternative to calling
<a class="reference internal" href="#tornado.web.RequestHandler.send_error" title="tornado.web.RequestHandler.send_error"><code class="xref py py-obj docutils literal notranslate"><span class="pre">RequestHandler.send_error</span></code></a> since it automatically ends the
current function.</p>
<p>To customize the response sent with an <a class="reference internal" href="#tornado.web.HTTPError" title="tornado.web.HTTPError"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HTTPError</span></code></a>, override
<a class="reference internal" href="#tornado.web.RequestHandler.write_error" title="tornado.web.RequestHandler.write_error"><code class="xref py py-obj docutils literal notranslate"><span class="pre">RequestHandler.write_error</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>status_code</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – HTTP status code.  Must be listed in
<a class="reference external" href="https://docs.python.org/3.6/library/http.client.html#http.client.responses" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">httplib.responses</span></code></a> unless the <code class="docutils literal notranslate"><span class="pre">reason</span></code>
keyword argument is given.</p></li>
<li><p><strong>log_message</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – Message to be written to the log for this error
(will not be shown to the user unless the <a class="reference internal" href="#tornado.web.Application" title="tornado.web.Application"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Application</span></code></a> is in debug
mode).  May contain <code class="docutils literal notranslate"><span class="pre">%s</span></code>-style placeholders, which will be filled
in with remaining positional parameters.</p></li>
<li><p><strong>reason</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – Keyword-only argument.  The HTTP “reason” phrase
to pass in the status line along with <code class="docutils literal notranslate"><span class="pre">status_code</span></code>.  Normally
determined automatically from <code class="docutils literal notranslate"><span class="pre">status_code</span></code>, but can be used
to use a non-standard numeric code.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="exception">
<dt id="tornado.web.Finish">
<em class="property">exception </em><code class="descclassname">tornado.web.</code><code class="descname">Finish</code><a class="reference internal" href="_modules/tornado/web.html#Finish"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.Finish" title="Permalink to this definition">¶</a></dt>
<dd><p>An exception that ends the request without producing an error response.</p>
<p>When <a class="reference internal" href="#tornado.web.Finish" title="tornado.web.Finish"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Finish</span></code></a> is raised in a <a class="reference internal" href="#tornado.web.RequestHandler" title="tornado.web.RequestHandler"><code class="xref py py-obj docutils literal notranslate"><span class="pre">RequestHandler</span></code></a>, the request will
end (calling <a class="reference internal" href="#tornado.web.RequestHandler.finish" title="tornado.web.RequestHandler.finish"><code class="xref py py-obj docutils literal notranslate"><span class="pre">RequestHandler.finish</span></code></a> if it hasn’t already been
called), but the error-handling methods (including
<a class="reference internal" href="#tornado.web.RequestHandler.write_error" title="tornado.web.RequestHandler.write_error"><code class="xref py py-obj docutils literal notranslate"><span class="pre">RequestHandler.write_error</span></code></a>) will not be called.</p>
<p>If <a class="reference internal" href="#tornado.web.Finish" title="tornado.web.Finish"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Finish()</span></code></a> was created with no arguments, the pending response
will be sent as-is. If <a class="reference internal" href="#tornado.web.Finish" title="tornado.web.Finish"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Finish()</span></code></a> was given an argument, that
argument will be passed to <a class="reference internal" href="#tornado.web.RequestHandler.finish" title="tornado.web.RequestHandler.finish"><code class="xref py py-obj docutils literal notranslate"><span class="pre">RequestHandler.finish()</span></code></a>.</p>
<p>This can be a more convenient way to implement custom error pages
than overriding <code class="docutils literal notranslate"><span class="pre">write_error</span></code> (especially in library code):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_user</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">set_status</span><span class="p">(</span><span class="mi">401</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">set_header</span><span class="p">(</span><span class="s1">&#39;WWW-Authenticate&#39;</span><span class="p">,</span> <span class="s1">&#39;Basic realm=&quot;something&quot;&#39;</span><span class="p">)</span>
    <span class="k">raise</span> <span class="n">Finish</span><span class="p">()</span>
</pre></div>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 4.3: </span>Arguments passed to <code class="docutils literal notranslate"><span class="pre">Finish()</span></code> will be passed on to
<a class="reference internal" href="#tornado.web.RequestHandler.finish" title="tornado.web.RequestHandler.finish"><code class="xref py py-obj docutils literal notranslate"><span class="pre">RequestHandler.finish</span></code></a>.</p>
</div>
</dd></dl>

<dl class="exception">
<dt id="tornado.web.MissingArgumentError">
<em class="property">exception </em><code class="descclassname">tornado.web.</code><code class="descname">MissingArgumentError</code><span class="sig-paren">(</span><em>arg_name: str</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tornado/web.html#MissingArgumentError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.MissingArgumentError" title="Permalink to this definition">¶</a></dt>
<dd><p>Exception raised by <a class="reference internal" href="#tornado.web.RequestHandler.get_argument" title="tornado.web.RequestHandler.get_argument"><code class="xref py py-obj docutils literal notranslate"><span class="pre">RequestHandler.get_argument</span></code></a>.</p>
<p>This is a subclass of <a class="reference internal" href="#tornado.web.HTTPError" title="tornado.web.HTTPError"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HTTPError</span></code></a>, so if it is uncaught a 400 response
code will be used instead of 500 (and a stack trace will not be logged).</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 3.1.</span></p>
</div>
</dd></dl>

<dl class="class">
<dt id="tornado.web.UIModule">
<em class="property">class </em><code class="descclassname">tornado.web.</code><code class="descname">UIModule</code><span class="sig-paren">(</span><em>handler: tornado.web.RequestHandler</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tornado/web.html#UIModule"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.UIModule" title="Permalink to this definition">¶</a></dt>
<dd><p>A re-usable, modular UI unit on a page.</p>
<p>UI modules often execute additional queries, and they can include
additional CSS and JavaScript that will be included in the output
page, which is automatically inserted on page render.</p>
<p>Subclasses of UIModule must override the <a class="reference internal" href="#tornado.web.UIModule.render" title="tornado.web.UIModule.render"><code class="xref py py-obj docutils literal notranslate"><span class="pre">render</span></code></a> method.</p>
<dl class="method">
<dt id="tornado.web.UIModule.render">
<code class="descname">render</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span> &#x2192; str<a class="reference internal" href="_modules/tornado/web.html#UIModule.render"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.UIModule.render" title="Permalink to this definition">¶</a></dt>
<dd><p>Override in subclasses to return this module’s output.</p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.UIModule.embedded_javascript">
<code class="descname">embedded_javascript</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; Optional[str]<a class="reference internal" href="_modules/tornado/web.html#UIModule.embedded_javascript"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.UIModule.embedded_javascript" title="Permalink to this definition">¶</a></dt>
<dd><p>Override to return a JavaScript string
to be embedded in the page.</p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.UIModule.javascript_files">
<code class="descname">javascript_files</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; Optional[Iterable[str]]<a class="reference internal" href="_modules/tornado/web.html#UIModule.javascript_files"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.UIModule.javascript_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Override to return a list of JavaScript files needed by this module.</p>
<p>If the return values are relative paths, they will be passed to
<a class="reference internal" href="#tornado.web.RequestHandler.static_url" title="tornado.web.RequestHandler.static_url"><code class="xref py py-obj docutils literal notranslate"><span class="pre">RequestHandler.static_url</span></code></a>; otherwise they will be used as-is.</p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.UIModule.embedded_css">
<code class="descname">embedded_css</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; Optional[str]<a class="reference internal" href="_modules/tornado/web.html#UIModule.embedded_css"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.UIModule.embedded_css" title="Permalink to this definition">¶</a></dt>
<dd><p>Override to return a CSS string
that will be embedded in the page.</p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.UIModule.css_files">
<code class="descname">css_files</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; Optional[Iterable[str]]<a class="reference internal" href="_modules/tornado/web.html#UIModule.css_files"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.UIModule.css_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Override to returns a list of CSS files required by this module.</p>
<p>If the return values are relative paths, they will be passed to
<a class="reference internal" href="#tornado.web.RequestHandler.static_url" title="tornado.web.RequestHandler.static_url"><code class="xref py py-obj docutils literal notranslate"><span class="pre">RequestHandler.static_url</span></code></a>; otherwise they will be used as-is.</p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.UIModule.html_head">
<code class="descname">html_head</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; Optional[str]<a class="reference internal" href="_modules/tornado/web.html#UIModule.html_head"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.UIModule.html_head" title="Permalink to this definition">¶</a></dt>
<dd><p>Override to return an HTML string that will be put in the &lt;head/&gt;
element.</p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.UIModule.html_body">
<code class="descname">html_body</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; Optional[str]<a class="reference internal" href="_modules/tornado/web.html#UIModule.html_body"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.UIModule.html_body" title="Permalink to this definition">¶</a></dt>
<dd><p>Override to return an HTML string that will be put at the end of
the &lt;body/&gt; element.</p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.UIModule.render_string">
<code class="descname">render_string</code><span class="sig-paren">(</span><em>path: str</em>, <em>**kwargs</em><span class="sig-paren">)</span> &#x2192; bytes<a class="reference internal" href="_modules/tornado/web.html#UIModule.render_string"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.UIModule.render_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Renders a template and returns it as a string.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="tornado.web.ErrorHandler">
<em class="property">class </em><code class="descclassname">tornado.web.</code><code class="descname">ErrorHandler</code><span class="sig-paren">(</span><em>application: tornado.web.Application</em>, <em>request: tornado.httputil.HTTPServerRequest</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tornado/web.html#ErrorHandler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.ErrorHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates an error response with <code class="docutils literal notranslate"><span class="pre">status_code</span></code> for all requests.</p>
</dd></dl>

<dl class="class">
<dt id="tornado.web.FallbackHandler">
<em class="property">class </em><code class="descclassname">tornado.web.</code><code class="descname">FallbackHandler</code><span class="sig-paren">(</span><em>application: tornado.web.Application</em>, <em>request: tornado.httputil.HTTPServerRequest</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tornado/web.html#FallbackHandler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.FallbackHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>A <a class="reference internal" href="#tornado.web.RequestHandler" title="tornado.web.RequestHandler"><code class="xref py py-obj docutils literal notranslate"><span class="pre">RequestHandler</span></code></a> that wraps another HTTP server callback.</p>
<p>The fallback is a callable object that accepts an
<a class="reference internal" href="httputil.html#tornado.httputil.HTTPServerRequest" title="tornado.httputil.HTTPServerRequest"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HTTPServerRequest</span></code></a>, such as an <a class="reference internal" href="#tornado.web.Application" title="tornado.web.Application"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Application</span></code></a> or
<a class="reference internal" href="wsgi.html#tornado.wsgi.WSGIContainer" title="tornado.wsgi.WSGIContainer"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tornado.wsgi.WSGIContainer</span></code></a>.  This is most useful to use both
Tornado <code class="docutils literal notranslate"><span class="pre">RequestHandlers</span></code> and WSGI in the same server.  Typical
usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">wsgi_app</span> <span class="o">=</span> <span class="n">tornado</span><span class="o">.</span><span class="n">wsgi</span><span class="o">.</span><span class="n">WSGIContainer</span><span class="p">(</span>
    <span class="n">django</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">handlers</span><span class="o">.</span><span class="n">wsgi</span><span class="o">.</span><span class="n">WSGIHandler</span><span class="p">())</span>
<span class="n">application</span> <span class="o">=</span> <span class="n">tornado</span><span class="o">.</span><span class="n">web</span><span class="o">.</span><span class="n">Application</span><span class="p">([</span>
    <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;/foo&quot;</span><span class="p">,</span> <span class="n">FooHandler</span><span class="p">),</span>
    <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;.*&quot;</span><span class="p">,</span> <span class="n">FallbackHandler</span><span class="p">,</span> <span class="nb">dict</span><span class="p">(</span><span class="n">fallback</span><span class="o">=</span><span class="n">wsgi_app</span><span class="p">),</span>
<span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="tornado.web.RedirectHandler">
<em class="property">class </em><code class="descclassname">tornado.web.</code><code class="descname">RedirectHandler</code><span class="sig-paren">(</span><em>application: tornado.web.Application</em>, <em>request: tornado.httputil.HTTPServerRequest</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tornado/web.html#RedirectHandler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RedirectHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Redirects the client to the given URL for all GET requests.</p>
<p>You should provide the keyword argument <code class="docutils literal notranslate"><span class="pre">url</span></code> to the handler, e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">application</span> <span class="o">=</span> <span class="n">web</span><span class="o">.</span><span class="n">Application</span><span class="p">([</span>
    <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;/oldpath&quot;</span><span class="p">,</span> <span class="n">web</span><span class="o">.</span><span class="n">RedirectHandler</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;url&quot;</span><span class="p">:</span> <span class="s2">&quot;/newpath&quot;</span><span class="p">}),</span>
<span class="p">])</span>
</pre></div>
</div>
<p><a class="reference internal" href="#tornado.web.RedirectHandler" title="tornado.web.RedirectHandler"><code class="xref py py-obj docutils literal notranslate"><span class="pre">RedirectHandler</span></code></a> supports regular expression substitutions. E.g., to
swap the first and second parts of a path while preserving the remainder:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">application</span> <span class="o">=</span> <span class="n">web</span><span class="o">.</span><span class="n">Application</span><span class="p">([</span>
    <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;/(.*?)/(.*?)/(.*)&quot;</span><span class="p">,</span> <span class="n">web</span><span class="o">.</span><span class="n">RedirectHandler</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;url&quot;</span><span class="p">:</span> <span class="s2">&quot;/</span><span class="si">{1}</span><span class="s2">/</span><span class="si">{0}</span><span class="s2">/</span><span class="si">{2}</span><span class="s2">&quot;</span><span class="p">}),</span>
<span class="p">])</span>
</pre></div>
</div>
<p>The final URL is formatted with <a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str.format" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str.format</span></code></a> and the substrings that match
the capturing groups. In the above example, a request to “/a/b/c” would be
formatted like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">str</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s2">&quot;/</span><span class="si">{1}</span><span class="s2">/</span><span class="si">{0}</span><span class="s2">/</span><span class="si">{2}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">)</span>  <span class="c1"># -&gt; &quot;/b/a/c&quot;</span>
</pre></div>
</div>
<p>Use Python’s <a class="reference external" href="https://docs.python.org/3.6/library/string.html#formatstrings" title="(in Python v3.6)"><span class="xref std std-ref">format string syntax</span></a> to customize how
values are substituted.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 4.5: </span>Added support for substitutions into the destination URL.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 5.0: </span>If any query arguments are present, they will be copied to the
destination URL.</p>
</div>
</dd></dl>

<dl class="class">
<dt id="tornado.web.StaticFileHandler">
<em class="property">class </em><code class="descclassname">tornado.web.</code><code class="descname">StaticFileHandler</code><span class="sig-paren">(</span><em>application: tornado.web.Application</em>, <em>request: tornado.httputil.HTTPServerRequest</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tornado/web.html#StaticFileHandler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.StaticFileHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>A simple handler that can serve static content from a directory.</p>
<p>A <a class="reference internal" href="#tornado.web.StaticFileHandler" title="tornado.web.StaticFileHandler"><code class="xref py py-obj docutils literal notranslate"><span class="pre">StaticFileHandler</span></code></a> is configured automatically if you pass the
<code class="docutils literal notranslate"><span class="pre">static_path</span></code> keyword argument to <a class="reference internal" href="#tornado.web.Application" title="tornado.web.Application"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Application</span></code></a>.  This handler
can be customized with the <code class="docutils literal notranslate"><span class="pre">static_url_prefix</span></code>, <code class="docutils literal notranslate"><span class="pre">static_handler_class</span></code>,
and <code class="docutils literal notranslate"><span class="pre">static_handler_args</span></code> settings.</p>
<p>To map an additional path to this handler for a static data directory
you would add a line to your application like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">application</span> <span class="o">=</span> <span class="n">web</span><span class="o">.</span><span class="n">Application</span><span class="p">([</span>
    <span class="p">(</span><span class="sa">r</span><span class="s2">&quot;/content/(.*)&quot;</span><span class="p">,</span> <span class="n">web</span><span class="o">.</span><span class="n">StaticFileHandler</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;path&quot;</span><span class="p">:</span> <span class="s2">&quot;/var/www&quot;</span><span class="p">}),</span>
<span class="p">])</span>
</pre></div>
</div>
<p>The handler constructor requires a <code class="docutils literal notranslate"><span class="pre">path</span></code> argument, which specifies the
local root directory of the content to be served.</p>
<p>Note that a capture group in the regex is required to parse the value for
the <code class="docutils literal notranslate"><span class="pre">path</span></code> argument to the get() method (different than the constructor
argument above); see <a class="reference internal" href="#tornado.web.URLSpec" title="tornado.web.URLSpec"><code class="xref py py-obj docutils literal notranslate"><span class="pre">URLSpec</span></code></a> for details.</p>
<p>To serve a file like <code class="docutils literal notranslate"><span class="pre">index.html</span></code> automatically when a directory is
requested, set <code class="docutils literal notranslate"><span class="pre">static_handler_args=dict(default_filename=&quot;index.html&quot;)</span></code>
in your application settings, or add <code class="docutils literal notranslate"><span class="pre">default_filename</span></code> as an initializer
argument for your <code class="docutils literal notranslate"><span class="pre">StaticFileHandler</span></code>.</p>
<p>To maximize the effectiveness of browser caching, this class supports
versioned urls (by default using the argument <code class="docutils literal notranslate"><span class="pre">?v=</span></code>).  If a version
is given, we instruct the browser to cache this file indefinitely.
<a class="reference internal" href="#tornado.web.StaticFileHandler.make_static_url" title="tornado.web.StaticFileHandler.make_static_url"><code class="xref py py-obj docutils literal notranslate"><span class="pre">make_static_url</span></code></a> (also available as <a class="reference internal" href="#tornado.web.RequestHandler.static_url" title="tornado.web.RequestHandler.static_url"><code class="xref py py-obj docutils literal notranslate"><span class="pre">RequestHandler.static_url</span></code></a>) can
be used to construct a versioned url.</p>
<p>This handler is intended primarily for use in development and light-duty
file serving; for heavy traffic it will be more efficient to use
a dedicated static file server (such as nginx or Apache).  We support
the HTTP <code class="docutils literal notranslate"><span class="pre">Accept-Ranges</span></code> mechanism to return partial content (because
some browsers require this functionality to be present to seek in
HTML5 audio or video).</p>
<p><strong>Subclassing notes</strong></p>
<p>This class is designed to be extensible by subclassing, but because
of the way static urls are generated with class methods rather than
instance methods, the inheritance patterns are somewhat unusual.
Be sure to use the <code class="docutils literal notranslate"><span class="pre">&#64;classmethod</span></code> decorator when overriding a
class method.  Instance methods may use the attributes <code class="docutils literal notranslate"><span class="pre">self.path</span></code>
<code class="docutils literal notranslate"><span class="pre">self.absolute_path</span></code>, and <code class="docutils literal notranslate"><span class="pre">self.modified</span></code>.</p>
<p>Subclasses should only override methods discussed in this section;
overriding other methods is error-prone.  Overriding
<code class="docutils literal notranslate"><span class="pre">StaticFileHandler.get</span></code> is particularly problematic due to the
tight coupling with <code class="docutils literal notranslate"><span class="pre">compute_etag</span></code> and other methods.</p>
<p>To change the way static urls are generated (e.g. to match the behavior
of another server or CDN), override <a class="reference internal" href="#tornado.web.StaticFileHandler.make_static_url" title="tornado.web.StaticFileHandler.make_static_url"><code class="xref py py-obj docutils literal notranslate"><span class="pre">make_static_url</span></code></a>, <a class="reference internal" href="#tornado.web.StaticFileHandler.parse_url_path" title="tornado.web.StaticFileHandler.parse_url_path"><code class="xref py py-obj docutils literal notranslate"><span class="pre">parse_url_path</span></code></a>,
<a class="reference internal" href="#tornado.web.StaticFileHandler.get_cache_time" title="tornado.web.StaticFileHandler.get_cache_time"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_cache_time</span></code></a>, and/or <a class="reference internal" href="#tornado.web.StaticFileHandler.get_version" title="tornado.web.StaticFileHandler.get_version"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_version</span></code></a>.</p>
<p>To replace all interaction with the filesystem (e.g. to serve
static content from a database), override <a class="reference internal" href="#tornado.web.StaticFileHandler.get_content" title="tornado.web.StaticFileHandler.get_content"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_content</span></code></a>,
<a class="reference internal" href="#tornado.web.StaticFileHandler.get_content_size" title="tornado.web.StaticFileHandler.get_content_size"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_content_size</span></code></a>, <a class="reference internal" href="#tornado.web.StaticFileHandler.get_modified_time" title="tornado.web.StaticFileHandler.get_modified_time"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_modified_time</span></code></a>, <a class="reference internal" href="#tornado.web.StaticFileHandler.get_absolute_path" title="tornado.web.StaticFileHandler.get_absolute_path"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_absolute_path</span></code></a>, and
<a class="reference internal" href="#tornado.web.StaticFileHandler.validate_absolute_path" title="tornado.web.StaticFileHandler.validate_absolute_path"><code class="xref py py-obj docutils literal notranslate"><span class="pre">validate_absolute_path</span></code></a>.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 3.1: </span>Many of the methods for subclasses were added in Tornado 3.1.</p>
</div>
<dl class="method">
<dt id="tornado.web.StaticFileHandler.compute_etag">
<code class="descname">compute_etag</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; Optional[str]<a class="reference internal" href="_modules/tornado/web.html#StaticFileHandler.compute_etag"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.StaticFileHandler.compute_etag" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the <code class="docutils literal notranslate"><span class="pre">Etag</span></code> header based on static url version.</p>
<p>This allows efficient <code class="docutils literal notranslate"><span class="pre">If-None-Match</span></code> checks against cached
versions, and sends the correct <code class="docutils literal notranslate"><span class="pre">Etag</span></code> for a partial response
(i.e. the same <code class="docutils literal notranslate"><span class="pre">Etag</span></code> as the full file).</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 3.1.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="tornado.web.StaticFileHandler.set_headers">
<code class="descname">set_headers</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; None<a class="reference internal" href="_modules/tornado/web.html#StaticFileHandler.set_headers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.StaticFileHandler.set_headers" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the content and caching headers on the response.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 3.1.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="tornado.web.StaticFileHandler.should_return_304">
<code class="descname">should_return_304</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; bool<a class="reference internal" href="_modules/tornado/web.html#StaticFileHandler.should_return_304"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.StaticFileHandler.should_return_304" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if the headers indicate that we should return 304.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 3.1.</span></p>
</div>
</dd></dl>

<dl class="classmethod">
<dt id="tornado.web.StaticFileHandler.get_absolute_path">
<em class="property">classmethod </em><code class="descname">get_absolute_path</code><span class="sig-paren">(</span><em>root: str</em>, <em>path: str</em><span class="sig-paren">)</span> &#x2192; str<a class="reference internal" href="_modules/tornado/web.html#StaticFileHandler.get_absolute_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.StaticFileHandler.get_absolute_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the absolute location of <code class="docutils literal notranslate"><span class="pre">path</span></code> relative to <code class="docutils literal notranslate"><span class="pre">root</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">root</span></code> is the path configured for this <a class="reference internal" href="#tornado.web.StaticFileHandler" title="tornado.web.StaticFileHandler"><code class="xref py py-obj docutils literal notranslate"><span class="pre">StaticFileHandler</span></code></a>
(in most cases the <code class="docutils literal notranslate"><span class="pre">static_path</span></code> <a class="reference internal" href="#tornado.web.Application" title="tornado.web.Application"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Application</span></code></a> setting).</p>
<p>This class method may be overridden in subclasses.  By default
it returns a filesystem path, but other strings may be used
as long as they are unique and understood by the subclass’s
overridden <a class="reference internal" href="#tornado.web.StaticFileHandler.get_content" title="tornado.web.StaticFileHandler.get_content"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_content</span></code></a>.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 3.1.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="tornado.web.StaticFileHandler.validate_absolute_path">
<code class="descname">validate_absolute_path</code><span class="sig-paren">(</span><em>root: str</em>, <em>absolute_path: str</em><span class="sig-paren">)</span> &#x2192; Optional[str]<a class="reference internal" href="_modules/tornado/web.html#StaticFileHandler.validate_absolute_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.StaticFileHandler.validate_absolute_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate and return the absolute path.</p>
<p><code class="docutils literal notranslate"><span class="pre">root</span></code> is the configured path for the <a class="reference internal" href="#tornado.web.StaticFileHandler" title="tornado.web.StaticFileHandler"><code class="xref py py-obj docutils literal notranslate"><span class="pre">StaticFileHandler</span></code></a>,
and <code class="docutils literal notranslate"><span class="pre">path</span></code> is the result of <a class="reference internal" href="#tornado.web.StaticFileHandler.get_absolute_path" title="tornado.web.StaticFileHandler.get_absolute_path"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_absolute_path</span></code></a></p>
<p>This is an instance method called during request processing,
so it may raise <a class="reference internal" href="#tornado.web.HTTPError" title="tornado.web.HTTPError"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HTTPError</span></code></a> or use methods like
<a class="reference internal" href="#tornado.web.RequestHandler.redirect" title="tornado.web.RequestHandler.redirect"><code class="xref py py-obj docutils literal notranslate"><span class="pre">RequestHandler.redirect</span></code></a> (return None after redirecting to
halt further processing).  This is where 404 errors for missing files
are generated.</p>
<p>This method may modify the path before returning it, but note that
any such modifications will not be understood by <a class="reference internal" href="#tornado.web.StaticFileHandler.make_static_url" title="tornado.web.StaticFileHandler.make_static_url"><code class="xref py py-obj docutils literal notranslate"><span class="pre">make_static_url</span></code></a>.</p>
<p>In instance methods, this method’s result is available as
<code class="docutils literal notranslate"><span class="pre">self.absolute_path</span></code>.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 3.1.</span></p>
</div>
</dd></dl>

<dl class="classmethod">
<dt id="tornado.web.StaticFileHandler.get_content">
<em class="property">classmethod </em><code class="descname">get_content</code><span class="sig-paren">(</span><em>abspath: str</em>, <em>start: int = None</em>, <em>end: int = None</em><span class="sig-paren">)</span> &#x2192; Generator[bytes, None, None]<a class="reference internal" href="_modules/tornado/web.html#StaticFileHandler.get_content"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.StaticFileHandler.get_content" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the content of the requested resource which is located
at the given absolute path.</p>
<p>This class method may be overridden by subclasses.  Note that its
signature is different from other overridable class methods
(no <code class="docutils literal notranslate"><span class="pre">settings</span></code> argument); this is deliberate to ensure that
<code class="docutils literal notranslate"><span class="pre">abspath</span></code> is able to stand on its own as a cache key.</p>
<p>This method should either return a byte string or an iterator
of byte strings.  The latter is preferred for large files
as it helps reduce memory fragmentation.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 3.1.</span></p>
</div>
</dd></dl>

<dl class="classmethod">
<dt id="tornado.web.StaticFileHandler.get_content_version">
<em class="property">classmethod </em><code class="descname">get_content_version</code><span class="sig-paren">(</span><em>abspath: str</em><span class="sig-paren">)</span> &#x2192; str<a class="reference internal" href="_modules/tornado/web.html#StaticFileHandler.get_content_version"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.StaticFileHandler.get_content_version" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a version string for the resource at the given path.</p>
<p>This class method may be overridden by subclasses.  The
default implementation is a hash of the file’s contents.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 3.1.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="tornado.web.StaticFileHandler.get_content_size">
<code class="descname">get_content_size</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; int<a class="reference internal" href="_modules/tornado/web.html#StaticFileHandler.get_content_size"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.StaticFileHandler.get_content_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the total size of the resource at the given path.</p>
<p>This method may be overridden by subclasses.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 3.1.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 4.0: </span>This method is now always called, instead of only when
partial results are requested.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="tornado.web.StaticFileHandler.get_modified_time">
<code class="descname">get_modified_time</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; Optional[datetime.datetime]<a class="reference internal" href="_modules/tornado/web.html#StaticFileHandler.get_modified_time"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.StaticFileHandler.get_modified_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the time that <code class="docutils literal notranslate"><span class="pre">self.absolute_path</span></code> was last modified.</p>
<p>May be overridden in subclasses.  Should return a <a class="reference external" href="https://docs.python.org/3.6/library/datetime.html#datetime.datetime" title="(in Python v3.6)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">datetime</span></code></a>
object or None.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 3.1.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="tornado.web.StaticFileHandler.get_content_type">
<code class="descname">get_content_type</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; str<a class="reference internal" href="_modules/tornado/web.html#StaticFileHandler.get_content_type"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.StaticFileHandler.get_content_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the <code class="docutils literal notranslate"><span class="pre">Content-Type</span></code> header to be used for this request.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 3.1.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="tornado.web.StaticFileHandler.set_extra_headers">
<code class="descname">set_extra_headers</code><span class="sig-paren">(</span><em>path: str</em><span class="sig-paren">)</span> &#x2192; None<a class="reference internal" href="_modules/tornado/web.html#StaticFileHandler.set_extra_headers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.StaticFileHandler.set_extra_headers" title="Permalink to this definition">¶</a></dt>
<dd><p>For subclass to add extra headers to the response</p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.StaticFileHandler.get_cache_time">
<code class="descname">get_cache_time</code><span class="sig-paren">(</span><em>path: str, modified: Optional[datetime.datetime], mime_type: str</em><span class="sig-paren">)</span> &#x2192; int<a class="reference internal" href="_modules/tornado/web.html#StaticFileHandler.get_cache_time"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.StaticFileHandler.get_cache_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Override to customize cache control behavior.</p>
<p>Return a positive number of seconds to make the result
cacheable for that amount of time or 0 to mark resource as
cacheable for an unspecified amount of time (subject to
browser heuristics).</p>
<p>By default returns cache expiry of 10 years for resources requested
with <code class="docutils literal notranslate"><span class="pre">v</span></code> argument.</p>
</dd></dl>

<dl class="classmethod">
<dt id="tornado.web.StaticFileHandler.make_static_url">
<em class="property">classmethod </em><code class="descname">make_static_url</code><span class="sig-paren">(</span><em>settings: Dict[str, Any], path: str, include_version: bool = True</em><span class="sig-paren">)</span> &#x2192; str<a class="reference internal" href="_modules/tornado/web.html#StaticFileHandler.make_static_url"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.StaticFileHandler.make_static_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructs a versioned url for the given path.</p>
<p>This method may be overridden in subclasses (but note that it
is a class method rather than an instance method).  Subclasses
are only required to implement the signature
<code class="docutils literal notranslate"><span class="pre">make_static_url(cls,</span> <span class="pre">settings,</span> <span class="pre">path)</span></code>; other keyword
arguments may be passed through <a class="reference internal" href="#tornado.web.RequestHandler.static_url" title="tornado.web.RequestHandler.static_url"><code class="xref py py-obj docutils literal notranslate"><span class="pre">static_url</span></code></a>
but are not standard.</p>
<p><code class="docutils literal notranslate"><span class="pre">settings</span></code> is the <a class="reference internal" href="#tornado.web.Application.settings" title="tornado.web.Application.settings"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Application.settings</span></code></a> dictionary.  <code class="docutils literal notranslate"><span class="pre">path</span></code>
is the static path being requested.  The url returned should be
relative to the current host.</p>
<p><code class="docutils literal notranslate"><span class="pre">include_version</span></code> determines whether the generated URL should
include the query string containing the version hash of the
file corresponding to the given <code class="docutils literal notranslate"><span class="pre">path</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.StaticFileHandler.parse_url_path">
<code class="descname">parse_url_path</code><span class="sig-paren">(</span><em>url_path: str</em><span class="sig-paren">)</span> &#x2192; str<a class="reference internal" href="_modules/tornado/web.html#StaticFileHandler.parse_url_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.StaticFileHandler.parse_url_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a static URL path into a filesystem path.</p>
<p><code class="docutils literal notranslate"><span class="pre">url_path</span></code> is the path component of the URL with
<code class="docutils literal notranslate"><span class="pre">static_url_prefix</span></code> removed.  The return value should be
filesystem path relative to <code class="docutils literal notranslate"><span class="pre">static_path</span></code>.</p>
<p>This is the inverse of <a class="reference internal" href="#tornado.web.StaticFileHandler.make_static_url" title="tornado.web.StaticFileHandler.make_static_url"><code class="xref py py-obj docutils literal notranslate"><span class="pre">make_static_url</span></code></a>.</p>
</dd></dl>

<dl class="classmethod">
<dt id="tornado.web.StaticFileHandler.get_version">
<em class="property">classmethod </em><code class="descname">get_version</code><span class="sig-paren">(</span><em>settings: Dict[str, Any], path: str</em><span class="sig-paren">)</span> &#x2192; Optional[str]<a class="reference internal" href="_modules/tornado/web.html#StaticFileHandler.get_version"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.StaticFileHandler.get_version" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate the version string to be used in static URLs.</p>
<p><code class="docutils literal notranslate"><span class="pre">settings</span></code> is the <a class="reference internal" href="#tornado.web.Application.settings" title="tornado.web.Application.settings"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Application.settings</span></code></a> dictionary and <code class="docutils literal notranslate"><span class="pre">path</span></code>
is the relative location of the requested asset on the filesystem.
The returned value should be a string, or <code class="docutils literal notranslate"><span class="pre">None</span></code> if no version
could be determined.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 3.1: </span>This method was previously recommended for subclasses to override;
<a class="reference internal" href="#tornado.web.StaticFileHandler.get_content_version" title="tornado.web.StaticFileHandler.get_content_version"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_content_version</span></code></a> is now preferred as it allows the base
class to handle caching of the result.</p>
</div>
</dd></dl>

</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="template.html" class="btn btn-neutral float-right" title="tornado.template — Flexible output generation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="webframework.html" class="btn btn-neutral float-left" title="Web framework" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright The Tornado Authors

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>